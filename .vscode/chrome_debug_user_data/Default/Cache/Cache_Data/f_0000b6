import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/views/PhoneView.vue");import { defineComponent as _defineComponent } from "/node_modules/.vite/deps/vue.js?v=188068e3";
import { ref, computed, onMounted, onUnmounted } from "/node_modules/.vite/deps/vue.js?v=188068e3";
import { useExtensionStore } from "/src/components/extension-selector/ExtensionStore.ts";
const _sfc_main = /* @__PURE__ */ _defineComponent({
  __name: "PhoneView",
  setup(__props, { expose: __expose }) {
    __expose();
    const extensionStore = useExtensionStore();
    const currentNumber = ref("");
    const isInCall = ref(false);
    const callStatus = ref("Idle");
    const callDuration = ref("00:00");
    const connectionStatus = ref("Disconnected");
    const isConnected = ref(false);
    let callTimer = null;
    let callStartTime = 0;
    const keypadKeys = [
      { value: "1", primary: "1", secondary: "" },
      { value: "2", primary: "2", secondary: "ABC" },
      { value: "3", primary: "3", secondary: "DEF" },
      { value: "4", primary: "4", secondary: "GHI" },
      { value: "5", primary: "5", secondary: "JKL" },
      { value: "6", primary: "6", secondary: "MNO" },
      { value: "7", primary: "7", secondary: "PQRS" },
      { value: "8", primary: "8", secondary: "TUV" },
      { value: "9", primary: "9", secondary: "WXYZ" },
      { value: "*", primary: "*", secondary: "" },
      { value: "0", primary: "0", secondary: "+" },
      { value: "#", primary: "#", secondary: "" }
    ];
    const canCall = computed(() => {
      return isConnected.value && extensionStore.selectedExtension && currentNumber.value.length > 0;
    });
    const statusIndicatorClass = computed(() => {
      return isConnected.value ? "w-3 h-3 bg-green-500 rounded-full" : "w-3 h-3 bg-red-500 rounded-full";
    });
    const statusTextClass = computed(() => {
      return isConnected.value ? "text-green-700 dark:text-green-300" : "text-red-700 dark:text-red-300";
    });
    const handleKeypadPress = (key) => {
      if (isInCall.value) {
        sendDTMF(key);
      } else {
        currentNumber.value += key;
      }
    };
    const clearNumber = () => {
      if (currentNumber.value.length > 0) {
        currentNumber.value = currentNumber.value.slice(0, -1);
      }
    };
    const handleCall = async () => {
      if (!canCall.value) return;
      try {
        isInCall.value = true;
        callStatus.value = "Connecting...";
        console.log("Calling:", currentNumber.value);
        setTimeout(() => {
          callStatus.value = "Connected";
          startCallTimer();
        }, 2e3);
      } catch (error) {
        console.error("Call failed:", error);
        isInCall.value = false;
        callStatus.value = "Call Failed";
      }
    };
    const handleHangup = async () => {
      try {
        console.log("Hanging up call");
        isInCall.value = false;
        callStatus.value = "Idle";
        stopCallTimer();
      } catch (error) {
        console.error("Hangup failed:", error);
      }
    };
    const sendDTMF = (tone) => {
      console.log("Sending DTMF:", tone);
    };
    const startCallTimer = () => {
      callStartTime = Date.now();
      callTimer = setInterval(() => {
        const elapsed = Date.now() - callStartTime;
        const minutes = Math.floor(elapsed / 6e4);
        const seconds = Math.floor(elapsed % 6e4 / 1e3);
        callDuration.value = `${minutes.toString().padStart(2, "0")}:${seconds.toString().padStart(2, "0")}`;
      }, 1e3);
    };
    const stopCallTimer = () => {
      if (callTimer) {
        clearInterval(callTimer);
        callTimer = null;
      }
      callDuration.value = "00:00";
    };
    const simulateConnection = () => {
      setTimeout(() => {
        isConnected.value = true;
        connectionStatus.value = "Connected";
      }, 1e3);
    };
    onMounted(() => {
      simulateConnection();
    });
    onUnmounted(() => {
      stopCallTimer();
    });
    const __returned__ = { extensionStore, currentNumber, isInCall, callStatus, callDuration, connectionStatus, isConnected, get callTimer() {
      return callTimer;
    }, set callTimer(v) {
      callTimer = v;
    }, get callStartTime() {
      return callStartTime;
    }, set callStartTime(v) {
      callStartTime = v;
    }, keypadKeys, canCall, statusIndicatorClass, statusTextClass, handleKeypadPress, clearNumber, handleCall, handleHangup, sendDTMF, startCallTimer, stopCallTimer, simulateConnection };
    Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
    return __returned__;
  }
});
import { createElementVNode as _createElementVNode, createCommentVNode as _createCommentVNode, normalizeClass as _normalizeClass, toDisplayString as _toDisplayString, vModelText as _vModelText, withDirectives as _withDirectives, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock } from "/node_modules/.vite/deps/vue.js?v=188068e3";
const _hoisted_1 = { class: "softphone-dialer" };
const _hoisted_2 = { class: "text-center" };
const _hoisted_3 = { class: "mb-6" };
const _hoisted_4 = { class: "flex items-center justify-center space-x-2 mb-2" };
const _hoisted_5 = { class: "text-xs text-gray-500 dark:text-gray-400" };
const _hoisted_6 = { class: "mb-6" };
const _hoisted_7 = { class: "bg-gray-100 dark:bg-gray-700 rounded-lg p-4" };
const _hoisted_8 = { class: "grid grid-cols-3 gap-3 mb-6" };
const _hoisted_9 = ["onClick", "disabled"];
const _hoisted_10 = { class: "text-lg font-semibold" };
const _hoisted_11 = {
  key: 0,
  class: "text-xs text-gray-500 dark:text-gray-400"
};
const _hoisted_12 = { class: "flex justify-center space-x-4" };
const _hoisted_13 = ["disabled"];
const _hoisted_14 = ["disabled"];
const _hoisted_15 = {
  key: 0,
  class: "mt-6 p-4 bg-blue-50 dark:bg-blue-900/30 rounded-lg"
};
const _hoisted_16 = { class: "flex items-center justify-center space-x-2 mb-2" };
const _hoisted_17 = { class: "text-sm font-medium text-blue-700 dark:text-blue-300" };
const _hoisted_18 = { class: "text-xs text-blue-600 dark:text-blue-400" };
const _hoisted_19 = { class: "text-xs text-blue-500 dark:text-blue-400 mt-1" };
function _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {
  return _openBlock(), _createElementBlock("div", _hoisted_1, [
    _createElementVNode("div", _hoisted_2, [
      _cache[5] || (_cache[5] = _createElementVNode(
        "h2",
        { class: "text-xl font-semibold text-gray-900 dark:text-white mb-6" },
        "Softphone",
        -1
        /* CACHED */
      )),
      _createCommentVNode(" Status Display "),
      _createElementVNode("div", _hoisted_3, [
        _createElementVNode("div", _hoisted_4, [
          _createElementVNode(
            "div",
            {
              class: _normalizeClass($setup.statusIndicatorClass)
            },
            null,
            2
            /* CLASS */
          ),
          _createElementVNode(
            "span",
            {
              class: _normalizeClass(["text-sm font-medium", $setup.statusTextClass])
            },
            _toDisplayString($setup.connectionStatus),
            3
            /* TEXT, CLASS */
          )
        ]),
        _createElementVNode(
          "p",
          _hoisted_5,
          _toDisplayString($setup.extensionStore.selectedExtension?.extension || "No extension selected"),
          1
          /* TEXT */
        )
      ]),
      _createCommentVNode(" Number Display "),
      _createElementVNode("div", _hoisted_6, [
        _createElementVNode("div", _hoisted_7, [
          _withDirectives(_createElementVNode(
            "input",
            {
              "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.currentNumber = $event),
              type: "text",
              readonly: "",
              class: "w-full text-center text-2xl font-mono bg-transparent text-gray-900 dark:text-white focus:outline-none",
              placeholder: "Enter number"
            },
            null,
            512
            /* NEED_PATCH */
          ), [
            [_vModelText, $setup.currentNumber]
          ])
        ])
      ]),
      _createCommentVNode(" Keypad "),
      _createElementVNode("div", _hoisted_8, [
        (_openBlock(), _createElementBlock(
          _Fragment,
          null,
          _renderList($setup.keypadKeys, (key) => {
            return _createElementVNode("button", {
              key: key.value,
              onClick: ($event) => $setup.handleKeypadPress(key.value),
              disabled: $setup.isInCall,
              class: "keypad-button"
            }, [
              _createElementVNode(
                "span",
                _hoisted_10,
                _toDisplayString(key.primary),
                1
                /* TEXT */
              ),
              key.secondary ? (_openBlock(), _createElementBlock(
                "span",
                _hoisted_11,
                _toDisplayString(key.secondary),
                1
                /* TEXT */
              )) : _createCommentVNode("v-if", true)
            ], 8, _hoisted_9);
          }),
          64
          /* STABLE_FRAGMENT */
        ))
      ]),
      _createCommentVNode(" Action Buttons "),
      _createElementVNode("div", _hoisted_12, [
        _createElementVNode("button", {
          onClick: $setup.clearNumber,
          disabled: !$setup.currentNumber || $setup.isInCall,
          class: "px-4 py-2 bg-gray-600 text-white rounded-md hover:bg-gray-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
        }, _cache[1] || (_cache[1] = [
          _createElementVNode(
            "svg",
            {
              class: "w-5 h-5",
              fill: "none",
              stroke: "currentColor",
              viewBox: "0 0 24 24"
            },
            [
              _createElementVNode("path", {
                "stroke-linecap": "round",
                "stroke-linejoin": "round",
                "stroke-width": "2",
                d: "M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"
              })
            ],
            -1
            /* CACHED */
          )
        ]), 8, _hoisted_13),
        !$setup.isInCall ? (_openBlock(), _createElementBlock("button", {
          key: 0,
          onClick: $setup.handleCall,
          disabled: !$setup.currentNumber || !$setup.canCall,
          class: "px-6 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:opacity-50 disabled:cursor-not-allowed transition-colors flex items-center space-x-2"
        }, _cache[2] || (_cache[2] = [
          _createElementVNode(
            "svg",
            {
              class: "w-5 h-5",
              fill: "none",
              stroke: "currentColor",
              viewBox: "0 0 24 24"
            },
            [
              _createElementVNode("path", {
                "stroke-linecap": "round",
                "stroke-linejoin": "round",
                "stroke-width": "2",
                d: "M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"
              })
            ],
            -1
            /* CACHED */
          ),
          _createElementVNode(
            "span",
            null,
            "Call",
            -1
            /* CACHED */
          )
        ]), 8, _hoisted_14)) : (_openBlock(), _createElementBlock("button", {
          key: 1,
          onClick: $setup.handleHangup,
          class: "px-6 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors flex items-center space-x-2"
        }, _cache[3] || (_cache[3] = [
          _createElementVNode(
            "svg",
            {
              class: "w-5 h-5",
              fill: "none",
              stroke: "currentColor",
              viewBox: "0 0 24 24"
            },
            [
              _createElementVNode("path", {
                "stroke-linecap": "round",
                "stroke-linejoin": "round",
                "stroke-width": "2",
                d: "M16 8l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2M3 3l18 18"
              })
            ],
            -1
            /* CACHED */
          ),
          _createElementVNode(
            "span",
            null,
            "Hang Up",
            -1
            /* CACHED */
          )
        ])))
      ]),
      _createCommentVNode(" Call Status "),
      $setup.isInCall ? (_openBlock(), _createElementBlock("div", _hoisted_15, [
        _createElementVNode("div", _hoisted_16, [
          _cache[4] || (_cache[4] = _createElementVNode(
            "div",
            { class: "w-3 h-3 bg-blue-500 rounded-full animate-pulse" },
            null,
            -1
            /* CACHED */
          )),
          _createElementVNode(
            "span",
            _hoisted_17,
            _toDisplayString($setup.callStatus),
            1
            /* TEXT */
          )
        ]),
        _createElementVNode(
          "p",
          _hoisted_18,
          _toDisplayString($setup.currentNumber),
          1
          /* TEXT */
        ),
        _createElementVNode(
          "p",
          _hoisted_19,
          " Duration: " + _toDisplayString($setup.callDuration),
          1
          /* TEXT */
        )
      ])) : _createCommentVNode("v-if", true)
    ])
  ]);
}
import "/src/views/PhoneView.vue?t=1752074876443&vue&type=style&index=0&scoped=9cf4236c&lang.css";
_sfc_main.__hmrId = "9cf4236c";
typeof __VUE_HMR_RUNTIME__ !== "undefined" && __VUE_HMR_RUNTIME__.createRecord(_sfc_main.__hmrId, _sfc_main);
import.meta.hot.on("file-changed", ({ file }) => {
  __VUE_HMR_RUNTIME__.CHANGED_FILE = file;
});
import.meta.hot.accept((mod) => {
  if (!mod) return;
  const { default: updated, _rerender_only } = mod;
  if (_rerender_only) {
    __VUE_HMR_RUNTIME__.rerender(updated.__hmrId, updated.render);
  } else {
    __VUE_HMR_RUNTIME__.reload(updated.__hmrId, updated);
  }
});
import _export_sfc from "/@id/__x00__plugin-vue:export-helper";
export default /* @__PURE__ */ _export_sfc(_sfc_main, [["render", _sfc_render], ["__scopeId", "data-v-9cf4236c"], ["__file", "C:/respos/AlmaPhone/src/views/PhoneView.vue"]]);

//# sourceMappingURL=data:application/json;base64,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QUFBQSxnQkFBcEgsa0JBQWU7QUFBQSxnQkFBUSxtQkFBZ0I7QUFBQSxnQkFBUSxnQkFBYTtBQUFBLGdCQUFJLEdBQUU7QUFBQTs7Ozs7VUFFMUU7QUFBQSxZQUFvQjtBQUFBO0FBQUEsWUFBZDtBQUFBLFlBQU87QUFBQTtBQUFBO0FBQUE7O01BSWpCO0FBQUEsTUFDVyxpQ0FBWCxvQkFhTSxPQWJOLGFBYU07QUFBQSxRQVpKLG9CQUtNLE9BTE4sYUFLTTtBQUFBLG9DQUpKO0FBQUEsWUFBa0U7QUFBQSxjQUE3RCxPQUFNLGlEQUFnRDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsVUFDM0Q7QUFBQSxZQUVPO0FBQUEsWUFGUDtBQUFBLFlBRU8saUJBREYsaUJBQVU7QUFBQTtBQUFBO0FBQUE7QUFBQTtRQUdqQjtBQUFBLFVBRUk7QUFBQSxVQUZKO0FBQUEsVUFFSSxpQkFEQyxvQkFBYTtBQUFBO0FBQUE7QUFBQTtBQUFBLFFBRWxCO0FBQUEsVUFFSTtBQUFBLFVBRko7QUFBQSxVQUF5RCxnQkFDN0MsaUJBQUcsbUJBQVk7QUFBQTtBQUFBO0FBQUE7QUFBQSIsIm5hbWVzIjpbXSwiaWdub3JlTGlzdCI6W10sInNvdXJjZXMiOlsiUGhvbmVWaWV3LnZ1ZSJdLCJzb3VyY2VzQ29udGVudCI6WyI8dGVtcGxhdGU+XG4gIDxkaXYgY2xhc3M9XCJzb2Z0cGhvbmUtZGlhbGVyXCI+XG4gICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyXCI+XG4gICAgICA8aDIgY2xhc3M9XCJ0ZXh0LXhsIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtd2hpdGUgbWItNlwiPlNvZnRwaG9uZTwvaDI+XG4gICAgICBcbiAgICAgIDwhLS0gU3RhdHVzIERpc3BsYXkgLS0+XG4gICAgICA8ZGl2IGNsYXNzPVwibWItNlwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgc3BhY2UteC0yIG1iLTJcIj5cbiAgICAgICAgICA8ZGl2IDpjbGFzcz1cInN0YXR1c0luZGljYXRvckNsYXNzXCI+PC9kaXY+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtIGZvbnQtbWVkaXVtXCIgOmNsYXNzPVwic3RhdHVzVGV4dENsYXNzXCI+XG4gICAgICAgICAgICB7eyBjb25uZWN0aW9uU3RhdHVzIH19XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAge3sgZXh0ZW5zaW9uU3RvcmUuc2VsZWN0ZWRFeHRlbnNpb24/LmV4dGVuc2lvbiB8fCAnTm8gZXh0ZW5zaW9uIHNlbGVjdGVkJyB9fVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPCEtLSBOdW1iZXIgRGlzcGxheSAtLT5cbiAgICAgIDxkaXYgY2xhc3M9XCJtYi02XCI+XG4gICAgICAgIDxkaXYgY2xhc3M9XCJiZy1ncmF5LTEwMCBkYXJrOmJnLWdyYXktNzAwIHJvdW5kZWQtbGcgcC00XCI+XG4gICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICB2LW1vZGVsPVwiY3VycmVudE51bWJlclwiXG4gICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICByZWFkb25seVxuICAgICAgICAgICAgY2xhc3M9XCJ3LWZ1bGwgdGV4dC1jZW50ZXIgdGV4dC0yeGwgZm9udC1tb25vIGJnLXRyYW5zcGFyZW50IHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlIGZvY3VzOm91dGxpbmUtbm9uZVwiXG4gICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkVudGVyIG51bWJlclwiXG4gICAgICAgICAgLz5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPCEtLSBLZXlwYWQgLS0+XG4gICAgICA8ZGl2IGNsYXNzPVwiZ3JpZCBncmlkLWNvbHMtMyBnYXAtMyBtYi02XCI+XG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICB2LWZvcj1cImtleSBpbiBrZXlwYWRLZXlzXCJcbiAgICAgICAgICA6a2V5PVwia2V5LnZhbHVlXCJcbiAgICAgICAgICBAY2xpY2s9XCJoYW5kbGVLZXlwYWRQcmVzcyhrZXkudmFsdWUpXCJcbiAgICAgICAgICA6ZGlzYWJsZWQ9XCJpc0luQ2FsbFwiXG4gICAgICAgICAgY2xhc3M9XCJrZXlwYWQtYnV0dG9uXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1sZyBmb250LXNlbWlib2xkXCI+e3sga2V5LnByaW1hcnkgfX08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gdi1pZj1cImtleS5zZWNvbmRhcnlcIiBjbGFzcz1cInRleHQteHMgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgICAgIHt7IGtleS5zZWNvbmRhcnkgfX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDwhLS0gQWN0aW9uIEJ1dHRvbnMgLS0+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWNlbnRlciBzcGFjZS14LTRcIj5cbiAgICAgICAgPGJ1dHRvblxuICAgICAgICAgIEBjbGljaz1cImNsZWFyTnVtYmVyXCJcbiAgICAgICAgICA6ZGlzYWJsZWQ9XCIhY3VycmVudE51bWJlciB8fCBpc0luQ2FsbFwiXG4gICAgICAgICAgY2xhc3M9XCJweC00IHB5LTIgYmctZ3JheS02MDAgdGV4dC13aGl0ZSByb3VuZGVkLW1kIGhvdmVyOmJnLWdyYXktNzAwIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHRyYW5zaXRpb24tY29sb3JzXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTUgaC01XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xOSA3bC0uODY3IDEyLjE0MkEyIDIgMCAwMTE2LjEzOCAyMUg3Ljg2MmEyIDIgMCAwMS0xLjk5NS0xLjg1OEw1IDdtNSA0djZtNC02djZtMS0xMFY0YTEgMSAwIDAwLTEtMWgtNGExIDEgMCAwMC0xIDF2M000IDdoMTZcIiAvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICA8L2J1dHRvbj5cblxuICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgdi1pZj1cIiFpc0luQ2FsbFwiXG4gICAgICAgICAgQGNsaWNrPVwiaGFuZGxlQ2FsbFwiXG4gICAgICAgICAgOmRpc2FibGVkPVwiIWN1cnJlbnROdW1iZXIgfHwgIWNhbkNhbGxcIlxuICAgICAgICAgIGNsYXNzPVwicHgtNiBweS0yIGJnLWdyZWVuLTYwMCB0ZXh0LXdoaXRlIHJvdW5kZWQtbWQgaG92ZXI6YmctZ3JlZW4tNzAwIGRpc2FibGVkOm9wYWNpdHktNTAgZGlzYWJsZWQ6Y3Vyc29yLW5vdC1hbGxvd2VkIHRyYW5zaXRpb24tY29sb3JzIGZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiXG4gICAgICAgID5cbiAgICAgICAgICA8c3ZnIGNsYXNzPVwidy01IGgtNVwiIGZpbGw9XCJub25lXCIgc3Ryb2tlPVwiY3VycmVudENvbG9yXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgPHBhdGggc3Ryb2tlLWxpbmVjYXA9XCJyb3VuZFwiIHN0cm9rZS1saW5lam9pbj1cInJvdW5kXCIgc3Ryb2tlLXdpZHRoPVwiMlwiIGQ9XCJNMyA1YTIgMiAwIDAxMi0yaDMuMjhhMSAxIDAgMDEuOTQ4LjY4NGwxLjQ5OCA0LjQ5M2ExIDEgMCAwMS0uNTAyIDEuMjFsLTIuMjU3IDEuMTNhMTEuMDQyIDExLjA0MiAwIDAwNS41MTYgNS41MTZsMS4xMy0yLjI1N2ExIDEgMCAwMTEuMjEtLjUwMmw0LjQ5MyAxLjQ5OGExIDEgMCAwMS42ODQuOTQ5VjE5YTIgMiAwIDAxLTIgMmgtMUM5LjcxNiAyMSAzIDE0LjI4NCAzIDZWNXpcIiAvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIDxzcGFuPkNhbGw8L3NwYW4+XG4gICAgICAgIDwvYnV0dG9uPlxuXG4gICAgICAgIDxidXR0b25cbiAgICAgICAgICB2LWVsc2VcbiAgICAgICAgICBAY2xpY2s9XCJoYW5kbGVIYW5ndXBcIlxuICAgICAgICAgIGNsYXNzPVwicHgtNiBweS0yIGJnLXJlZC02MDAgdGV4dC13aGl0ZSByb3VuZGVkLW1kIGhvdmVyOmJnLXJlZC03MDAgdHJhbnNpdGlvbi1jb2xvcnMgZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCJcbiAgICAgICAgPlxuICAgICAgICAgIDxzdmcgY2xhc3M9XCJ3LTUgaC01XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCJjdXJyZW50Q29sb3JcIiB2aWV3Qm94PVwiMCAwIDI0IDI0XCI+XG4gICAgICAgICAgICA8cGF0aCBzdHJva2UtbGluZWNhcD1cInJvdW5kXCIgc3Ryb2tlLWxpbmVqb2luPVwicm91bmRcIiBzdHJva2Utd2lkdGg9XCIyXCIgZD1cIk0xNiA4bDItMm0wIDBsMi0ybS0yIDJsLTItMm0yIDJsMiAyTTMgM2wxOCAxOFwiIC8+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPHNwYW4+SGFuZyBVcDwvc3Bhbj5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPCEtLSBDYWxsIFN0YXR1cyAtLT5cbiAgICAgIDxkaXYgdi1pZj1cImlzSW5DYWxsXCIgY2xhc3M9XCJtdC02IHAtNCBiZy1ibHVlLTUwIGRhcms6YmctYmx1ZS05MDAvMzAgcm91bmRlZC1sZ1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgc3BhY2UteC0yIG1iLTJcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzPVwidy0zIGgtMyBiZy1ibHVlLTUwMCByb3VuZGVkLWZ1bGwgYW5pbWF0ZS1wdWxzZVwiPjwvZGl2PlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zbSBmb250LW1lZGl1bSB0ZXh0LWJsdWUtNzAwIGRhcms6dGV4dC1ibHVlLTMwMFwiPlxuICAgICAgICAgICAge3sgY2FsbFN0YXR1cyB9fVxuICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxwIGNsYXNzPVwidGV4dC14cyB0ZXh0LWJsdWUtNjAwIGRhcms6dGV4dC1ibHVlLTQwMFwiPlxuICAgICAgICAgIHt7IGN1cnJlbnROdW1iZXIgfX1cbiAgICAgICAgPC9wPlxuICAgICAgICA8cCBjbGFzcz1cInRleHQteHMgdGV4dC1ibHVlLTUwMCBkYXJrOnRleHQtYmx1ZS00MDAgbXQtMVwiPlxuICAgICAgICAgIER1cmF0aW9uOiB7eyBjYWxsRHVyYXRpb24gfX1cbiAgICAgICAgPC9wPlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG4gIDwvZGl2PlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IHJlZiwgY29tcHV0ZWQsIG9uTW91bnRlZCwgb25Vbm1vdW50ZWQgfSBmcm9tICd2dWUnXG5pbXBvcnQgeyB1c2VFeHRlbnNpb25TdG9yZSB9IGZyb20gJ0AvY29tcG9uZW50cy9leHRlbnNpb24tc2VsZWN0b3IvRXh0ZW5zaW9uU3RvcmUnXG5cbi8vIFN0b3Jlc1xuY29uc3QgZXh0ZW5zaW9uU3RvcmUgPSB1c2VFeHRlbnNpb25TdG9yZSgpXG5cbi8vIFJlYWN0aXZlIHN0YXRlXG5jb25zdCBjdXJyZW50TnVtYmVyID0gcmVmKCcnKVxuY29uc3QgaXNJbkNhbGwgPSByZWYoZmFsc2UpXG5jb25zdCBjYWxsU3RhdHVzID0gcmVmKCdJZGxlJylcbmNvbnN0IGNhbGxEdXJhdGlvbiA9IHJlZignMDA6MDAnKVxuY29uc3QgY29ubmVjdGlvblN0YXR1cyA9IHJlZignRGlzY29ubmVjdGVkJylcbmNvbnN0IGlzQ29ubmVjdGVkID0gcmVmKGZhbHNlKVxuXG4vLyBUaW1lciBmb3IgY2FsbCBkdXJhdGlvblxubGV0IGNhbGxUaW1lcjogei5UaW1lb3V0IHwgbnVsbCA9IG51bGxcbmxldCBjYWxsU3RhcnRUaW1lOiBudW1iZXIgPSAwXG5cbi8vIEtleXBhZCBjb25maWd1cmF0aW9uXG5jb25zdCBrZXlwYWRLZXlzID0gW1xuICB7IHZhbHVlOiAnMScsIHByaW1hcnk6ICcxJywgc2Vjb25kYXJ5OiAnJyB9LFxuICB7IHZhbHVlOiAnMicsIHByaW1hcnk6ICcyJywgc2Vjb25kYXJ5OiAnQUJDJyB9LFxuICB7IHZhbHVlOiAnMycsIHByaW1hcnk6ICczJywgc2Vjb25kYXJ5OiAnREVGJyB9LFxuICB7IHZhbHVlOiAnNCcsIHByaW1hcnk6ICc0Jywgc2Vjb25kYXJ5OiAnR0hJJyB9LFxuICB7IHZhbHVlOiAnNScsIHByaW1hcnk6ICc1Jywgc2Vjb25kYXJ5OiAnSktMJyB9LFxuICB7IHZhbHVlOiAnNicsIHByaW1hcnk6ICc2Jywgc2Vjb25kYXJ5OiAnTU5PJyB9LFxuICB7IHZhbHVlOiAnNycsIHByaW1hcnk6ICc3Jywgc2Vjb25kYXJ5OiAnUFFSUycgfSxcbiAgeyB2YWx1ZTogJzgnLCBwcmltYXJ5OiAnOCcsIHNlY29uZGFyeTogJ1RVVicgfSxcbiAgeyB2YWx1ZTogJzknLCBwcmltYXJ5OiAnOScsIHNlY29uZGFyeTogJ1dYWVonIH0sXG4gIHsgdmFsdWU6ICcqJywgcHJpbWFyeTogJyonLCBzZWNvbmRhcnk6ICcnIH0sXG4gIHsgdmFsdWU6ICcwJywgcHJpbWFyeTogJzAnLCBzZWNvbmRhcnk6ICcrJyB9LFxuICB7IHZhbHVlOiAnIycsIHByaW1hcnk6ICcjJywgc2Vjb25kYXJ5OiAnJyB9XG5dXG5cbi8vIENvbXB1dGVkIHByb3BlcnRpZXNcbmNvbnN0IGNhbkNhbGwgPSBjb21wdXRlZCgoKSA9PiB7XG4gIHJldHVybiBpc0Nvbm5lY3RlZC52YWx1ZSAmJiBleHRlbnNpb25TdG9yZS5zZWxlY3RlZEV4dGVuc2lvbiAmJiBjdXJyZW50TnVtYmVyLnZhbHVlLmxlbmd0aCA+IDBcbn0pXG5cbmNvbnN0IHN0YXR1c0luZGljYXRvckNsYXNzID0gY29tcHV0ZWQoKCkgPT4ge1xuICByZXR1cm4gaXNDb25uZWN0ZWQudmFsdWVcbiAgICA/ICd3LTMgaC0zIGJnLWdyZWVuLTUwMCByb3VuZGVkLWZ1bGwnXG4gICAgOiAndy0zIGgtMyBiZy1yZWQtNTAwIHJvdW5kZWQtZnVsbCdcbn0pXG5cbmNvbnN0IHN0YXR1c1RleHRDbGFzcyA9IGNvbXB1dGVkKCgpID0+IHtcbiAgcmV0dXJuIGlzQ29ubmVjdGVkLnZhbHVlXG4gICAgPyAndGV4dC1ncmVlbi03MDAgZGFyazp0ZXh0LWdyZWVuLTMwMCdcbiAgICA6ICd0ZXh0LXJlZC03MDAgZGFyazp0ZXh0LXJlZC0zMDAnXG59KVxuXG4vLyBNZXRob2RzXG5jb25zdCBoYW5kbGVLZXlwYWRQcmVzcyA9IChrZXk6IHN0cmluZykgPT4ge1xuICBpZiAoaXNJbkNhbGwudmFsdWUpIHtcbiAgICAvLyBTZW5kIERUTUYgdG9uZSBkdXJpbmcgY2FsbFxuICAgIHNlbmREVE1GKGtleSlcbiAgfSBlbHNlIHtcbiAgICAvLyBBZGQgdG8gY3VycmVudCBudW1iZXJcbiAgICBjdXJyZW50TnVtYmVyLnZhbHVlICs9IGtleVxuICB9XG59XG5cbmNvbnN0IGNsZWFyTnVtYmVyID0gKCkgPT4ge1xuICBpZiAoY3VycmVudE51bWJlci52YWx1ZS5sZW5ndGggPiAwKSB7XG4gICAgY3VycmVudE51bWJlci52YWx1ZSA9IGN1cnJlbnROdW1iZXIudmFsdWUuc2xpY2UoMCwgLTEpXG4gIH1cbn1cblxuY29uc3QgaGFuZGxlQ2FsbCA9IGFzeW5jICgpID0+IHtcbiAgaWYgKCFjYW5DYWxsLnZhbHVlKSByZXR1cm5cblxuICB0cnkge1xuICAgIGlzSW5DYWxsLnZhbHVlID0gdHJ1ZVxuICAgIGNhbGxTdGF0dXMudmFsdWUgPSAnQ29ubmVjdGluZy4uLidcbiAgICBcbiAgICAvLyBUT0RPOiBJbXBsZW1lbnQgYWN0dWFsIFNJUC5qcyBjYWxsIGxvZ2ljIGhlcmVcbiAgICBjb25zb2xlLmxvZygnQ2FsbGluZzonLCBjdXJyZW50TnVtYmVyLnZhbHVlKVxuICAgIFxuICAgIC8vIFNpbXVsYXRlIGNhbGwgY29ubmVjdGlvblxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgY2FsbFN0YXR1cy52YWx1ZSA9ICdDb25uZWN0ZWQnXG4gICAgICBzdGFydENhbGxUaW1lcigpXG4gICAgfSwgMjAwMClcbiAgICBcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdDYWxsIGZhaWxlZDonLCBlcnJvcilcbiAgICBpc0luQ2FsbC52YWx1ZSA9IGZhbHNlXG4gICAgY2FsbFN0YXR1cy52YWx1ZSA9ICdDYWxsIEZhaWxlZCdcbiAgfVxufVxuXG5jb25zdCBoYW5kbGVIYW5ndXAgPSBhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgLy8gVE9ETzogSW1wbGVtZW50IGFjdHVhbCBTSVAuanMgaGFuZ3VwIGxvZ2ljIGhlcmVcbiAgICBjb25zb2xlLmxvZygnSGFuZ2luZyB1cCBjYWxsJylcbiAgICBcbiAgICBpc0luQ2FsbC52YWx1ZSA9IGZhbHNlXG4gICAgY2FsbFN0YXR1cy52YWx1ZSA9ICdJZGxlJ1xuICAgIHN0b3BDYWxsVGltZXIoKVxuICAgIFxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGNvbnNvbGUuZXJyb3IoJ0hhbmd1cCBmYWlsZWQ6JywgZXJyb3IpXG4gIH1cbn1cblxuY29uc3Qgc2VuZERUTUYgPSAodG9uZTogc3RyaW5nKSA9PiB7XG4gIC8vIFRPRE86IEltcGxlbWVudCBEVE1GIHNlbmRpbmcgdmlhIFNJUC5qc1xuICBjb25zb2xlLmxvZygnU2VuZGluZyBEVE1GOicsIHRvbmUpXG59XG5cbmNvbnN0IHN0YXJ0Q2FsbFRpbWVyID0gKCkgPT4ge1xuICBjYWxsU3RhcnRUaW1lID0gRGF0ZS5ub3coKVxuICBjYWxsVGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgY29uc3QgZWxhcHNlZCA9IERhdGUubm93KCkgLSBjYWxsU3RhcnRUaW1lXG4gICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IoZWxhcHNlZCAvIDYwMDAwKVxuICAgIGNvbnN0IHNlY29uZHMgPSBNYXRoLmZsb29yKChlbGFwc2VkICUgNjAwMDApIC8gMTAwMClcbiAgICBjYWxsRHVyYXRpb24udmFsdWUgPSBgJHttaW51dGVzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX06JHtzZWNvbmRzLnRvU3RyaW5nKCkucGFkU3RhcnQoMiwgJzAnKX1gXG4gIH0sIDEwMDApXG59XG5cbmNvbnN0IHN0b3BDYWxsVGltZXIgPSAoKSA9PiB7XG4gIGlmIChjYWxsVGltZXIpIHtcbiAgICBjbGVhckludGVydmFsKGNhbGxUaW1lcilcbiAgICBjYWxsVGltZXIgPSBudWxsXG4gIH1cbiAgY2FsbER1cmF0aW9uLnZhbHVlID0gJzAwOjAwJ1xufVxuXG4vLyBTaW11bGF0ZSBjb25uZWN0aW9uIHN0YXR1cyAocmVwbGFjZSB3aXRoIGFjdHVhbCBTSVAuanMgbG9naWMpXG5jb25zdCBzaW11bGF0ZUNvbm5lY3Rpb24gPSAoKSA9PiB7XG4gIC8vIFRPRE86IFJlcGxhY2Ugd2l0aCBhY3R1YWwgU0lQLmpzIGNvbm5lY3Rpb24gbG9naWNcbiAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgaXNDb25uZWN0ZWQudmFsdWUgPSB0cnVlXG4gICAgY29ubmVjdGlvblN0YXR1cy52YWx1ZSA9ICdDb25uZWN0ZWQnXG4gIH0sIDEwMDApXG59XG5cbi8vIExpZmVjeWNsZVxub25Nb3VudGVkKCgpID0+IHtcbiAgc2ltdWxhdGVDb25uZWN0aW9uKClcbn0pXG5cbm9uVW5tb3VudGVkKCgpID0+IHtcbiAgc3RvcENhbGxUaW1lcigpXG59KVxuPC9zY3JpcHQ+XG5cbjxzdHlsZSBzY29wZWQ+XG4vKiAua2V5cGFkLWJ1dHRvbiB7XG4gIEBhcHBseSBoLTE2IGJnLWdyYXktMjAwIGRhcms6YmctZ3JheS03MDAgaG92ZXI6YmctZ3JheS0zMDAgZGFyazpob3ZlcjpiZy1ncmF5LTYwMCBcbiAgICAgICAgIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlIHJvdW5kZWQtbGcgdHJhbnNpdGlvbi1jb2xvcnMgXG4gICAgICAgICBkaXNhYmxlZDpvcGFjaXR5LTUwIGRpc2FibGVkOmN1cnNvci1ub3QtYWxsb3dlZFxuICAgICAgICAgZmxleCBmbGV4LWNvbCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgc3BhY2UteS0xO1xufVxuXG4ua2V5cGFkLWJ1dHRvbjphY3RpdmUge1xuICBAYXBwbHkgc2NhbGUtOTU7XG59ICovXG5cbi8qIEFuaW1hY2nDs24gcGFyYSBlbCBpbmRpY2Fkb3IgZGUgZXN0YWRvICovXG5Aa2V5ZnJhbWVzIHB1bHNlIHtcbiAgMCUsIDEwMCUge1xuICAgIG9wYWNpdHk6IDE7XG4gIH1cbiAgNTAlIHtcbiAgICBvcGFjaXR5OiAwLjU7XG4gIH1cbn1cblxuLmFuaW1hdGUtcHVsc2Uge1xuICBhbmltYXRpb246IHB1bHNlIDJzIGN1YmljLWJlemllcigwLjQsIDAsIDAuNiwgMSkgaW5maW5pdGU7XG59XG48L3N0eWxlPiJdLCJmaWxlIjoiQzovcmVzcG9zL0FsbWFQaG9uZS9zcmMvdmlld3MvUGhvbmVWaWV3LnZ1ZSJ9