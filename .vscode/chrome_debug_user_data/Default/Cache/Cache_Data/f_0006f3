import { defineStore } from "/node_modules/.vite/deps/pinia.js?v=10b713a3";
import { URI } from "/node_modules/.vite/deps/sip__js_lib_grammar_uri.js?v=10b713a3";
import {
  SimpleUser
} from "/node_modules/.vite/deps/sip__js_lib_platform_web.js?v=10b713a3";
import { ref } from "/node_modules/.vite/deps/vue.js?v=10b713a3";
export const useSipStore = defineStore("sip", () => {
  const simpleUser = ref(null);
  const isConnected = ref(false);
  const isRegistered = ref(false);
  const voicemail = ref({ new: 0, old: 0 });
  const isDnd = ref(false);
  const isAutoAnswer = ref(false);
  const callState = ref("idle");
  const connectionState = ref(
    "disconnected"
  );
  const callStartTime = ref(null);
  const error = ref(null);
  const isMuted = ref(false);
  const isOnHold = ref(false);
  const audioElement = ref(null);
  const sipConfig = ref({
    server: "wss://hornblower.doesnotexist.com:7443",
    username: "LDLQ2",
    password: "",
    domain: "hornblower.doesnotexist.com",
    displayName: ""
  });
  const wssPort = ref("7443");
  const blfConfig = ref({
    blf1: "1011",
    blf1Label: "asd",
    blf2: "",
    blf2Label: "",
    blf3: "",
    blf3Label: "",
    blf4: "",
    blf4Label: "",
    blf5: "",
    blf5Label: "",
    blf6: "",
    blf6Label: "",
    blf7: "",
    blf7Label: "",
    blf8: "",
    blf8Label: "",
    blf9: "",
    blf9Label: "",
    blf10: "",
    blf10Label: ""
  });
  const createSimpleUserDelegate = () => ({
    onCallCreated: () => {
      console.log("Call created");
      callState.value = "calling";
      callStartTime.value = /* @__PURE__ */ new Date();
    },
    onCallReceived: async () => {
      console.log("Call received");
      if (isDnd.value) {
        console.log("Llamada entrante ignorada por DND");
        simpleUser.value?.hangup();
        return;
      }
      callState.value = "ringing";
      if (isAutoAnswer.value) {
        console.log("Auto-answer enabled, answering call");
        try {
          await simpleUser.value?.answer();
        } catch (err) {
          console.error("Error auto-answering call:", err);
          error.value = err instanceof Error ? err.message : "Error auto-answering call";
        }
      }
    },
    onCallAnswered: () => {
      console.log("Call answered");
      callState.value = "connected";
    },
    onCallHangup: () => {
      console.log("Call hangup");
      callState.value = "ended";
      callStartTime.value = null;
      isMuted.value = false;
      isOnHold.value = false;
    },
    onCallHold: (held) => {
      console.log(`Call hold ${held}`);
      isOnHold.value = held;
    },
    onRegistered: () => {
      console.log("Registered");
      isRegistered.value = true;
    },
    onUnregistered: () => {
      console.log("Unregistered");
      isRegistered.value = false;
    },
    onServerConnect: () => {
      console.log("Server connected");
      isConnected.value = true;
      connectionState.value = "connected";
    },
    onServerDisconnect: () => {
      console.log("Server disconnected");
      isConnected.value = false;
      isRegistered.value = false;
      connectionState.value = "disconnected";
      setTimeout(() => {
        if (simpleUser.value && connectionState.value === "disconnected") {
          reconnect();
        }
      }, 5e3);
    }
  });
  const initializeSip = async (config, remoteAudio) => {
    try {
      sipConfig.value = { ...sipConfig.value, ...config };
      if (remoteAudio) {
        audioElement.value = remoteAudio;
      }
      connectionState.value = "connecting";
      error.value = null;
      const webSocketServer = sipConfig.value.server;
      const simpleUserOptions = {
        delegate: createSimpleUserDelegate(),
        media: {
          remote: {
            audio: audioElement.value || void 0
          }
        },
        userAgentOptions: {
          displayName: sipConfig.value.displayName,
          authorizationUsername: sipConfig.value.username,
          authorizationPassword: sipConfig.value.password,
          uri: new URI("sip", sipConfig.value.username, sipConfig.value.domain),
          transportOptions: {
            server: webSocketServer,
            connectionTimeout: 1e4,
            keepAliveInterval: 3e4,
            traceSip: true,
            allowLegacyNotifications: true,
            wsServerMaxReconnection: 5e3,
            wsServerReconnectionTimeout: 1,
            connectionRecoveryMaxInterval: 3,
            connectionRecoveryMinInterval: 2
          }
        }
      };
      simpleUser.value = new SimpleUser(webSocketServer, simpleUserOptions);
      await simpleUser.value.connect();
      await simpleUser.value.register();
      return true;
    } catch (err) {
      console.error("Error inicializando SIP:", err);
      error.value = err instanceof Error ? err.message : "Error desconocido";
      connectionState.value = "disconnected";
      return false;
    }
  };
  const reconnect = async () => {
    if (simpleUser.value) {
      connectionState.value = "reconnecting";
      try {
        await simpleUser.value.connect();
        await simpleUser.value.register();
      } catch (err) {
        console.error("Error reconnecting:", err);
        connectionState.value = "disconnected";
      }
    }
  };
  const makeCall = async (number) => {
    try {
      if (!simpleUser.value || !isConnected.value) {
        throw new Error("SIP no estÃ¡ conectado");
      }
      const target = `sip:${number}@${sipConfig.value.domain}`;
      await simpleUser.value.call(target, {
        inviteWithoutSdp: false
      });
      return true;
    } catch (err) {
      console.error("Error haciendo llamada:", err);
      error.value = err instanceof Error ? err.message : "Error en la llamada";
      callState.value = "idle";
      return false;
    }
  };
  const endCall = async () => {
    try {
      if (simpleUser.value) {
        await simpleUser.value.hangup();
      }
    } catch (err) {
      console.error("Error terminando llamada:", err);
      error.value = err instanceof Error ? err.message : "Error terminando llamada";
    }
  };
  const answerCall = async () => {
    try {
      if (simpleUser.value) {
        await simpleUser.value.answer();
      }
    } catch (err) {
      console.error("Error contestando llamada:", err);
      error.value = err instanceof Error ? err.message : "Error contestando llamada";
    }
  };
  const muteCall = () => {
    try {
      if (simpleUser.value) {
        simpleUser.value.mute();
        isMuted.value = simpleUser.value.isMuted();
      }
    } catch (err) {
      console.error("Error muting call:", err);
    }
  };
  const unmuteCall = () => {
    try {
      if (simpleUser.value) {
        simpleUser.value.unmute();
        isMuted.value = simpleUser.value.isMuted();
      }
    } catch (err) {
      console.error("Error unmuting call:", err);
    }
  };
  const toggleMute = () => {
    if (isMuted.value) {
      unmuteCall();
    } else {
      muteCall();
    }
  };
  const holdCall = async () => {
    try {
      if (simpleUser.value) {
        await simpleUser.value.hold();
      }
    } catch (err) {
      console.error("Error holding call:", err);
      error.value = err instanceof Error ? err.message : "Error poniendo en espera";
    }
  };
  const unholdCall = async () => {
    try {
      if (simpleUser.value) {
        await simpleUser.value.unhold();
      }
    } catch (err) {
      console.error("Error unholding call:", err);
      error.value = err instanceof Error ? err.message : "Error quitando de espera";
    }
  };
  const toggleHold = async () => {
    if (isOnHold.value) {
      await unholdCall();
    } else {
      await holdCall();
    }
  };
  const sendDTMF = async (tone) => {
    try {
      if (simpleUser.value) {
        await simpleUser.value.sendDTMF(tone);
      }
    } catch (err) {
      console.error("Error sending DTMF:", err);
      error.value = err instanceof Error ? err.message : "Error enviando DTMF";
    }
  };
  const disconnect = async () => {
    try {
      if (simpleUser.value) {
        await simpleUser.value.disconnect();
      }
      connectionState.value = "disconnected";
      isConnected.value = false;
      isRegistered.value = false;
    } catch (err) {
      console.error("Error disconnecting:", err);
      error.value = err instanceof Error ? err.message : "Error desconectando";
    }
  };
  const setAudioElement = (element) => {
    audioElement.value = element;
  };
  return {
    // State
    simpleUser,
    isRegistered,
    isConnected,
    connectionState,
    error,
    sipConfig,
    isAutoAnswer,
    voicemail,
    isDnd,
    callState,
    callStartTime,
    isMuted,
    isOnHold,
    // Actions
    initializeSip,
    makeCall,
    endCall,
    answerCall,
    muteCall,
    unmuteCall,
    toggleMute,
    holdCall,
    unholdCall,
    toggleHold,
    sendDTMF,
    disconnect,
    setAudioElement,
    reconnect
  };
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNpcFN0b3JlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlZmluZVN0b3JlIH0gZnJvbSAncGluaWEnXG5pbXBvcnQgeyBVUkkgfSBmcm9tICdzaXAuanMvbGliL2dyYW1tYXIvdXJpJ1xuaW1wb3J0IHtcbiAgU2ltcGxlVXNlcixcbiAgdHlwZSBTaW1wbGVVc2VyRGVsZWdhdGUsXG4gIHR5cGUgU2ltcGxlVXNlck9wdGlvbnMsXG59IGZyb20gJ3NpcC5qcy9saWIvcGxhdGZvcm0vd2ViJ1xuaW1wb3J0IHsgcmVmIH0gZnJvbSAndnVlJ1xuXG5leHBvcnQgY29uc3QgdXNlU2lwU3RvcmUgPSBkZWZpbmVTdG9yZSgnc2lwJywgKCkgPT4ge1xuICBjb25zdCBzaW1wbGVVc2VyID0gcmVmPFNpbXBsZVVzZXIgfCBudWxsPihudWxsKVxuICBjb25zdCBpc0Nvbm5lY3RlZCA9IHJlZihmYWxzZSlcbiAgY29uc3QgaXNSZWdpc3RlcmVkID0gcmVmKGZhbHNlKVxuICBjb25zdCB2b2ljZW1haWwgPSByZWYoeyBuZXc6IDAsIG9sZDogMCB9KVxuICBjb25zdCBpc0RuZCA9IHJlZihmYWxzZSlcbiAgY29uc3QgaXNBdXRvQW5zd2VyID0gcmVmKGZhbHNlKVxuICBjb25zdCBjYWxsU3RhdGUgPSByZWY8J2lkbGUnIHwgJ2NhbGxpbmcnIHwgJ3JpbmdpbmcnIHwgJ2Nvbm5lY3RlZCcgfCAnZW5kZWQnPignaWRsZScpXG4gIGNvbnN0IGNvbm5lY3Rpb25TdGF0ZSA9IHJlZjwnZGlzY29ubmVjdGVkJyB8ICdjb25uZWN0aW5nJyB8ICdjb25uZWN0ZWQnIHwgJ3JlY29ubmVjdGluZyc+KFxuICAgICdkaXNjb25uZWN0ZWQnLFxuICApXG4gIGNvbnN0IGNhbGxTdGFydFRpbWUgPSByZWY8RGF0ZSB8IG51bGw+KG51bGwpXG4gIGNvbnN0IGVycm9yID0gcmVmPHN0cmluZyB8IG51bGw+KG51bGwpXG4gIGNvbnN0IGlzTXV0ZWQgPSByZWYoZmFsc2UpXG4gIGNvbnN0IGlzT25Ib2xkID0gcmVmKGZhbHNlKVxuXG4gIGNvbnN0IGF1ZGlvRWxlbWVudCA9IHJlZjxIVE1MQXVkaW9FbGVtZW50IHwgbnVsbD4obnVsbClcblxuICBjb25zdCBzaXBDb25maWcgPSByZWYoe1xuICAgIHNlcnZlcjogJ3dzczovL2hvcm5ibG93ZXIuZG9lc25vdGV4aXN0LmNvbTo3NDQzJyxcbiAgICB1c2VybmFtZTogJ0xETFEyJyxcbiAgICBwYXNzd29yZDogJycsXG4gICAgZG9tYWluOiAnaG9ybmJsb3dlci5kb2Vzbm90ZXhpc3QuY29tJyxcbiAgICBkaXNwbGF5TmFtZTogJycsXG4gIH0pXG5cbiAgY29uc3Qgd3NzUG9ydCA9IHJlZignNzQ0MycpXG4gIGNvbnN0IGJsZkNvbmZpZyA9IHJlZih7XG4gICAgYmxmMTogJzEwMTEnLFxuICAgIGJsZjFMYWJlbDogJ2FzZCcsXG4gICAgYmxmMjogJycsXG4gICAgYmxmMkxhYmVsOiAnJyxcbiAgICBibGYzOiAnJyxcbiAgICBibGYzTGFiZWw6ICcnLFxuICAgIGJsZjQ6ICcnLFxuICAgIGJsZjRMYWJlbDogJycsXG4gICAgYmxmNTogJycsXG4gICAgYmxmNUxhYmVsOiAnJyxcbiAgICBibGY2OiAnJyxcbiAgICBibGY2TGFiZWw6ICcnLFxuICAgIGJsZjc6ICcnLFxuICAgIGJsZjdMYWJlbDogJycsXG4gICAgYmxmODogJycsXG4gICAgYmxmOExhYmVsOiAnJyxcbiAgICBibGY5OiAnJyxcbiAgICBibGY5TGFiZWw6ICcnLFxuICAgIGJsZjEwOiAnJyxcbiAgICBibGYxMExhYmVsOiAnJyxcbiAgfSlcblxuICBjb25zdCBjcmVhdGVTaW1wbGVVc2VyRGVsZWdhdGUgPSAoKTogU2ltcGxlVXNlckRlbGVnYXRlID0+ICh7XG4gICAgb25DYWxsQ3JlYXRlZDogKCk6IHZvaWQgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ0NhbGwgY3JlYXRlZCcpXG4gICAgICBjYWxsU3RhdGUudmFsdWUgPSAnY2FsbGluZydcbiAgICAgIGNhbGxTdGFydFRpbWUudmFsdWUgPSBuZXcgRGF0ZSgpXG4gICAgfSxcbiAgICBvbkNhbGxSZWNlaXZlZDogYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgICAgY29uc29sZS5sb2coJ0NhbGwgcmVjZWl2ZWQnKVxuICAgICAgaWYgKGlzRG5kLnZhbHVlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdMbGFtYWRhIGVudHJhbnRlIGlnbm9yYWRhIHBvciBETkQnKVxuICAgICAgICBzaW1wbGVVc2VyLnZhbHVlPy5oYW5ndXAoKVxuICAgICAgICByZXR1cm5cbiAgICAgIH1cbiAgICAgIGNhbGxTdGF0ZS52YWx1ZSA9ICdyaW5naW5nJ1xuXG4gICAgICBpZiAoaXNBdXRvQW5zd2VyLnZhbHVlKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKCdBdXRvLWFuc3dlciBlbmFibGVkLCBhbnN3ZXJpbmcgY2FsbCcpXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgYXdhaXQgc2ltcGxlVXNlci52YWx1ZT8uYW5zd2VyKClcbiAgICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYXV0by1hbnN3ZXJpbmcgY2FsbDonLCBlcnIpXG4gICAgICAgICAgZXJyb3IudmFsdWUgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0Vycm9yIGF1dG8tYW5zd2VyaW5nIGNhbGwnXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIG9uQ2FsbEFuc3dlcmVkOiAoKTogdm9pZCA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnQ2FsbCBhbnN3ZXJlZCcpXG4gICAgICBjYWxsU3RhdGUudmFsdWUgPSAnY29ubmVjdGVkJ1xuICAgIH0sXG4gICAgb25DYWxsSGFuZ3VwOiAoKTogdm9pZCA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnQ2FsbCBoYW5ndXAnKVxuICAgICAgY2FsbFN0YXRlLnZhbHVlID0gJ2VuZGVkJ1xuICAgICAgY2FsbFN0YXJ0VGltZS52YWx1ZSA9IG51bGxcbiAgICAgIGlzTXV0ZWQudmFsdWUgPSBmYWxzZVxuICAgICAgaXNPbkhvbGQudmFsdWUgPSBmYWxzZVxuICAgIH0sXG4gICAgb25DYWxsSG9sZDogKGhlbGQ6IGJvb2xlYW4pOiB2b2lkID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKGBDYWxsIGhvbGQgJHtoZWxkfWApXG4gICAgICBpc09uSG9sZC52YWx1ZSA9IGhlbGRcbiAgICB9LFxuICAgIG9uUmVnaXN0ZXJlZDogKCk6IHZvaWQgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ1JlZ2lzdGVyZWQnKVxuICAgICAgaXNSZWdpc3RlcmVkLnZhbHVlID0gdHJ1ZVxuICAgIH0sXG4gICAgb25VbnJlZ2lzdGVyZWQ6ICgpOiB2b2lkID0+IHtcbiAgICAgIGNvbnNvbGUubG9nKCdVbnJlZ2lzdGVyZWQnKVxuICAgICAgaXNSZWdpc3RlcmVkLnZhbHVlID0gZmFsc2VcbiAgICB9LFxuICAgIG9uU2VydmVyQ29ubmVjdDogKCk6IHZvaWQgPT4ge1xuICAgICAgY29uc29sZS5sb2coJ1NlcnZlciBjb25uZWN0ZWQnKVxuICAgICAgaXNDb25uZWN0ZWQudmFsdWUgPSB0cnVlXG4gICAgICBjb25uZWN0aW9uU3RhdGUudmFsdWUgPSAnY29ubmVjdGVkJ1xuICAgIH0sXG4gICAgb25TZXJ2ZXJEaXNjb25uZWN0OiAoKTogdm9pZCA9PiB7XG4gICAgICBjb25zb2xlLmxvZygnU2VydmVyIGRpc2Nvbm5lY3RlZCcpXG4gICAgICBpc0Nvbm5lY3RlZC52YWx1ZSA9IGZhbHNlXG4gICAgICBpc1JlZ2lzdGVyZWQudmFsdWUgPSBmYWxzZVxuICAgICAgY29ubmVjdGlvblN0YXRlLnZhbHVlID0gJ2Rpc2Nvbm5lY3RlZCdcblxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChzaW1wbGVVc2VyLnZhbHVlICYmIGNvbm5lY3Rpb25TdGF0ZS52YWx1ZSA9PT0gJ2Rpc2Nvbm5lY3RlZCcpIHtcbiAgICAgICAgICByZWNvbm5lY3QoKVxuICAgICAgICB9XG4gICAgICB9LCA1MDAwKVxuICAgIH0sXG4gIH0pXG5cbiAgY29uc3QgaW5pdGlhbGl6ZVNpcCA9IGFzeW5jIChcbiAgICBjb25maWc6IHtcbiAgICAgIHNlcnZlcjogc3RyaW5nXG4gICAgICB1c2VybmFtZTogc3RyaW5nXG4gICAgICBwYXNzd29yZDogc3RyaW5nXG4gICAgICBkb21haW46IHN0cmluZ1xuICAgICAgZGlzcGxheU5hbWU6IHN0cmluZ1xuICAgIH0sXG4gICAgcmVtb3RlQXVkaW8/OiBIVE1MQXVkaW9FbGVtZW50LFxuICApOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICB0cnkge1xuICAgICAgc2lwQ29uZmlnLnZhbHVlID0geyAuLi5zaXBDb25maWcudmFsdWUsIC4uLmNvbmZpZyB9XG5cbiAgICAgIGlmIChyZW1vdGVBdWRpbykge1xuICAgICAgICBhdWRpb0VsZW1lbnQudmFsdWUgPSByZW1vdGVBdWRpb1xuICAgICAgfVxuXG4gICAgICBjb25uZWN0aW9uU3RhdGUudmFsdWUgPSAnY29ubmVjdGluZydcbiAgICAgIGVycm9yLnZhbHVlID0gbnVsbFxuXG4gICAgICBjb25zdCB3ZWJTb2NrZXRTZXJ2ZXIgPSBzaXBDb25maWcudmFsdWUuc2VydmVyXG5cbiAgICAgIGNvbnN0IHNpbXBsZVVzZXJPcHRpb25zOiBTaW1wbGVVc2VyT3B0aW9ucyA9IHtcbiAgICAgICAgZGVsZWdhdGU6IGNyZWF0ZVNpbXBsZVVzZXJEZWxlZ2F0ZSgpLFxuICAgICAgICBtZWRpYToge1xuICAgICAgICAgIHJlbW90ZToge1xuICAgICAgICAgICAgYXVkaW86IGF1ZGlvRWxlbWVudC52YWx1ZSB8fCB1bmRlZmluZWQsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgICAgdXNlckFnZW50T3B0aW9uczoge1xuICAgICAgICAgIGRpc3BsYXlOYW1lOiBzaXBDb25maWcudmFsdWUuZGlzcGxheU5hbWUsXG4gICAgICAgICAgYXV0aG9yaXphdGlvblVzZXJuYW1lOiBzaXBDb25maWcudmFsdWUudXNlcm5hbWUsXG4gICAgICAgICAgYXV0aG9yaXphdGlvblBhc3N3b3JkOiBzaXBDb25maWcudmFsdWUucGFzc3dvcmQsXG4gICAgICAgICAgdXJpOiBuZXcgVVJJKCdzaXAnLCBzaXBDb25maWcudmFsdWUudXNlcm5hbWUsIHNpcENvbmZpZy52YWx1ZS5kb21haW4pLFxuICAgICAgICAgIHRyYW5zcG9ydE9wdGlvbnM6IHtcbiAgICAgICAgICAgIHNlcnZlcjogd2ViU29ja2V0U2VydmVyLFxuICAgICAgICAgICAgY29ubmVjdGlvblRpbWVvdXQ6IDEwMDAwLFxuICAgICAgICAgICAga2VlcEFsaXZlSW50ZXJ2YWw6IDMwMDAwLFxuICAgICAgICAgICAgdHJhY2VTaXA6IHRydWUsXG4gICAgICAgICAgICBhbGxvd0xlZ2FjeU5vdGlmaWNhdGlvbnM6IHRydWUsXG4gICAgICAgICAgICB3c1NlcnZlck1heFJlY29ubmVjdGlvbjogNTAwMCxcbiAgICAgICAgICAgIHdzU2VydmVyUmVjb25uZWN0aW9uVGltZW91dDogMSxcbiAgICAgICAgICAgIGNvbm5lY3Rpb25SZWNvdmVyeU1heEludGVydmFsOiAzLFxuICAgICAgICAgICAgY29ubmVjdGlvblJlY292ZXJ5TWluSW50ZXJ2YWw6IDIsXG4gICAgICAgICAgfSxcbiAgICAgICAgfSxcbiAgICAgIH1cblxuICAgICAgc2ltcGxlVXNlci52YWx1ZSA9IG5ldyBTaW1wbGVVc2VyKHdlYlNvY2tldFNlcnZlciwgc2ltcGxlVXNlck9wdGlvbnMpXG5cbiAgICAgIGF3YWl0IHNpbXBsZVVzZXIudmFsdWUuY29ubmVjdCgpXG5cbiAgICAgIGF3YWl0IHNpbXBsZVVzZXIudmFsdWUucmVnaXN0ZXIoKVxuXG4gICAgICByZXR1cm4gdHJ1ZVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW5pY2lhbGl6YW5kbyBTSVA6JywgZXJyKVxuICAgICAgZXJyb3IudmFsdWUgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0Vycm9yIGRlc2Nvbm9jaWRvJ1xuICAgICAgY29ubmVjdGlvblN0YXRlLnZhbHVlID0gJ2Rpc2Nvbm5lY3RlZCdcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHJlY29ubmVjdCA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICBpZiAoc2ltcGxlVXNlci52YWx1ZSkge1xuICAgICAgY29ubmVjdGlvblN0YXRlLnZhbHVlID0gJ3JlY29ubmVjdGluZydcbiAgICAgIHRyeSB7XG4gICAgICAgIGF3YWl0IHNpbXBsZVVzZXIudmFsdWUuY29ubmVjdCgpXG4gICAgICAgIGF3YWl0IHNpbXBsZVVzZXIudmFsdWUucmVnaXN0ZXIoKVxuICAgICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlY29ubmVjdGluZzonLCBlcnIpXG4gICAgICAgIGNvbm5lY3Rpb25TdGF0ZS52YWx1ZSA9ICdkaXNjb25uZWN0ZWQnXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgY29uc3QgbWFrZUNhbGwgPSBhc3luYyAobnVtYmVyOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKCFzaW1wbGVVc2VyLnZhbHVlIHx8ICFpc0Nvbm5lY3RlZC52YWx1ZSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NJUCBubyBlc3TDoSBjb25lY3RhZG8nKVxuICAgICAgfVxuXG4gICAgICBjb25zdCB0YXJnZXQgPSBgc2lwOiR7bnVtYmVyfUAke3NpcENvbmZpZy52YWx1ZS5kb21haW59YFxuXG4gICAgICBhd2FpdCBzaW1wbGVVc2VyLnZhbHVlLmNhbGwodGFyZ2V0LCB7XG4gICAgICAgIGludml0ZVdpdGhvdXRTZHA6IGZhbHNlLFxuICAgICAgfSlcblxuICAgICAgcmV0dXJuIHRydWVcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGhhY2llbmRvIGxsYW1hZGE6JywgZXJyKVxuICAgICAgZXJyb3IudmFsdWUgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0Vycm9yIGVuIGxhIGxsYW1hZGEnXG4gICAgICBjYWxsU3RhdGUudmFsdWUgPSAnaWRsZSdcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGVuZENhbGwgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChzaW1wbGVVc2VyLnZhbHVlKSB7XG4gICAgICAgIGF3YWl0IHNpbXBsZVVzZXIudmFsdWUuaGFuZ3VwKClcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHRlcm1pbmFuZG8gbGxhbWFkYTonLCBlcnIpXG4gICAgICBlcnJvci52YWx1ZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnRXJyb3IgdGVybWluYW5kbyBsbGFtYWRhJ1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGFuc3dlckNhbGwgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChzaW1wbGVVc2VyLnZhbHVlKSB7XG4gICAgICAgIGF3YWl0IHNpbXBsZVVzZXIudmFsdWUuYW5zd2VyKClcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGNvbnRlc3RhbmRvIGxsYW1hZGE6JywgZXJyKVxuICAgICAgZXJyb3IudmFsdWUgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0Vycm9yIGNvbnRlc3RhbmRvIGxsYW1hZGEnXG4gICAgfVxuICB9XG5cbiAgY29uc3QgbXV0ZUNhbGwgPSAoKTogdm9pZCA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChzaW1wbGVVc2VyLnZhbHVlKSB7XG4gICAgICAgIHNpbXBsZVVzZXIudmFsdWUubXV0ZSgpXG4gICAgICAgIGlzTXV0ZWQudmFsdWUgPSBzaW1wbGVVc2VyLnZhbHVlLmlzTXV0ZWQoKVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbXV0aW5nIGNhbGw6JywgZXJyKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IHVubXV0ZUNhbGwgPSAoKTogdm9pZCA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChzaW1wbGVVc2VyLnZhbHVlKSB7XG4gICAgICAgIHNpbXBsZVVzZXIudmFsdWUudW5tdXRlKClcbiAgICAgICAgaXNNdXRlZC52YWx1ZSA9IHNpbXBsZVVzZXIudmFsdWUuaXNNdXRlZCgpXG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB1bm11dGluZyBjYWxsOicsIGVycilcbiAgICB9XG4gIH1cblxuICBjb25zdCB0b2dnbGVNdXRlID0gKCk6IHZvaWQgPT4ge1xuICAgIGlmIChpc011dGVkLnZhbHVlKSB7XG4gICAgICB1bm11dGVDYWxsKClcbiAgICB9IGVsc2Uge1xuICAgICAgbXV0ZUNhbGwoKVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGhvbGRDYWxsID0gYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIHRyeSB7XG4gICAgICBpZiAoc2ltcGxlVXNlci52YWx1ZSkge1xuICAgICAgICBhd2FpdCBzaW1wbGVVc2VyLnZhbHVlLmhvbGQoKVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaG9sZGluZyBjYWxsOicsIGVycilcbiAgICAgIGVycm9yLnZhbHVlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdFcnJvciBwb25pZW5kbyBlbiBlc3BlcmEnXG4gICAgfVxuICB9XG5cbiAgY29uc3QgdW5ob2xkQ2FsbCA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHNpbXBsZVVzZXIudmFsdWUpIHtcbiAgICAgICAgYXdhaXQgc2ltcGxlVXNlci52YWx1ZS51bmhvbGQoKVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdW5ob2xkaW5nIGNhbGw6JywgZXJyKVxuICAgICAgZXJyb3IudmFsdWUgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0Vycm9yIHF1aXRhbmRvIGRlIGVzcGVyYSdcbiAgICB9XG4gIH1cblxuICBjb25zdCB0b2dnbGVIb2xkID0gYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xuICAgIGlmIChpc09uSG9sZC52YWx1ZSkge1xuICAgICAgYXdhaXQgdW5ob2xkQ2FsbCgpXG4gICAgfSBlbHNlIHtcbiAgICAgIGF3YWl0IGhvbGRDYWxsKClcbiAgICB9XG4gIH1cblxuICBjb25zdCBzZW5kRFRNRiA9IGFzeW5jICh0b25lOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+ID0+IHtcbiAgICB0cnkge1xuICAgICAgaWYgKHNpbXBsZVVzZXIudmFsdWUpIHtcbiAgICAgICAgYXdhaXQgc2ltcGxlVXNlci52YWx1ZS5zZW5kRFRNRih0b25lKVxuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2VuZGluZyBEVE1GOicsIGVycilcbiAgICAgIGVycm9yLnZhbHVlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdFcnJvciBlbnZpYW5kbyBEVE1GJ1xuICAgIH1cbiAgfVxuXG4gIGNvbnN0IGRpc2Nvbm5lY3QgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChzaW1wbGVVc2VyLnZhbHVlKSB7XG4gICAgICAgIGF3YWl0IHNpbXBsZVVzZXIudmFsdWUuZGlzY29ubmVjdCgpXG4gICAgICB9XG4gICAgICBjb25uZWN0aW9uU3RhdGUudmFsdWUgPSAnZGlzY29ubmVjdGVkJ1xuICAgICAgaXNDb25uZWN0ZWQudmFsdWUgPSBmYWxzZVxuICAgICAgaXNSZWdpc3RlcmVkLnZhbHVlID0gZmFsc2VcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRpc2Nvbm5lY3Rpbmc6JywgZXJyKVxuICAgICAgZXJyb3IudmFsdWUgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0Vycm9yIGRlc2NvbmVjdGFuZG8nXG4gICAgfVxuICB9XG5cbiAgY29uc3Qgc2V0QXVkaW9FbGVtZW50ID0gKGVsZW1lbnQ6IEhUTUxBdWRpb0VsZW1lbnQpOiB2b2lkID0+IHtcbiAgICBhdWRpb0VsZW1lbnQudmFsdWUgPSBlbGVtZW50XG4gIH1cblxuICByZXR1cm4ge1xuICAgIC8vIFN0YXRlXG4gICAgc2ltcGxlVXNlcixcbiAgICBpc1JlZ2lzdGVyZWQsXG4gICAgaXNDb25uZWN0ZWQsXG4gICAgY29ubmVjdGlvblN0YXRlLFxuICAgIGVycm9yLFxuICAgIHNpcENvbmZpZyxcbiAgICBpc0F1dG9BbnN3ZXIsXG4gICAgdm9pY2VtYWlsLFxuICAgIGlzRG5kLFxuICAgIGNhbGxTdGF0ZSxcbiAgICBjYWxsU3RhcnRUaW1lLFxuICAgIGlzTXV0ZWQsXG4gICAgaXNPbkhvbGQsXG5cbiAgICAvLyBBY3Rpb25zXG4gICAgaW5pdGlhbGl6ZVNpcCxcbiAgICBtYWtlQ2FsbCxcbiAgICBlbmRDYWxsLFxuICAgIGFuc3dlckNhbGwsXG4gICAgbXV0ZUNhbGwsXG4gICAgdW5tdXRlQ2FsbCxcbiAgICB0b2dnbGVNdXRlLFxuICAgIGhvbGRDYWxsLFxuICAgIHVuaG9sZENhbGwsXG4gICAgdG9nZ2xlSG9sZCxcbiAgICBzZW5kRFRNRixcbiAgICBkaXNjb25uZWN0LFxuICAgIHNldEF1ZGlvRWxlbWVudCxcbiAgICByZWNvbm5lY3QsXG4gIH1cbn0pXG4iXSwibWFwcGluZ3MiOiJBQUFB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