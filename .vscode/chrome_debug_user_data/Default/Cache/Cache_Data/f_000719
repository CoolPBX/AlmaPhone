import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/components/login/LoginForm.vue");import { defineComponent as _defineComponent } from "/node_modules/.vite/deps/vue.js?v=10b713a3";
import { ref, computed } from "/node_modules/.vite/deps/vue.js?v=10b713a3";
import { useRouter } from "/node_modules/.vite/deps/vue-router.js?v=10b713a3";
import { useI18n } from "/node_modules/.vite/deps/vue-i18n.js?v=10b713a3";
import { useAuthStore } from "/src/components/login/AuthStore.ts";
import Card from "/node_modules/.vite/deps/primevue_card.js?v=10b713a3";
import InputText from "/node_modules/.vite/deps/primevue_inputtext.js?v=10b713a3";
import Password from "/node_modules/.vite/deps/primevue_password.js?v=10b713a3";
import Button from "/node_modules/.vite/deps/primevue_button.js?v=10b713a3";
import Message from "/node_modules/.vite/deps/primevue_message.js?v=10b713a3";
import FloatLabel from "/node_modules/.vite/deps/primevue_floatlabel.js?v=10b713a3";
import Avatar from "/node_modules/.vite/deps/primevue_avatar.js?v=10b713a3";
import ExtensionSelector from "/src/components/extension-selector/ExtensionSelector.vue?t=1752513396389";
import { useSipStore } from "/src/components/login/SipStore.ts?t=1752516354601";
import { useExtensionStore } from "/src/components/extension-selector/ExtensionStore.ts";
const _sfc_main = /* @__PURE__ */ _defineComponent({
  __name: "LoginForm",
  setup(__props, { expose: __expose }) {
    __expose();
    const { t } = useI18n();
    const authStore = useAuthStore();
    const extensionStore = useExtensionStore();
    const sipStore = useSipStore();
    const router = useRouter();
    const form = ref({
      username: "",
      password: ""
    });
    const showExtensionModal = ref(false);
    const isFormValid = computed(() => {
      return form.value.username.trim() !== "" && form.value.password.trim() !== "" && form.value.username.includes("@");
    });
    const handleLogin = async () => {
      const success = await authStore.login({
        user_email: form.value.username,
        password: form.value.password
      });
      if (success) {
        showExtensionModal.value = true;
      }
    };
    const onExtensionSelected = () => {
      showExtensionModal.value = false;
      sipStore.initializeSip({
        server: "wss://hornblower.doesnotexist.com:7443",
        username: authStore.user?.username || "",
        password: extensionStore.selectedExtension?.password || "",
        domain: "hornblower.doesnotexist.com",
        displayName: "LDLQ2"
      });
      router.push("/phone");
    };
    const onLogout = () => {
      showExtensionModal.value = false;
      authStore.logout();
    };
    const __returned__ = { t, authStore, extensionStore, sipStore, router, form, showExtensionModal, isFormValid, handleLogin, onExtensionSelected, onLogout, get Card() {
      return Card;
    }, get InputText() {
      return InputText;
    }, get Password() {
      return Password;
    }, get Button() {
      return Button;
    }, get Message() {
      return Message;
    }, get FloatLabel() {
      return FloatLabel;
    }, get Avatar() {
      return Avatar;
    }, ExtensionSelector };
    Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
    return __returned__;
  }
});
import { createCommentVNode as _createCommentVNode, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, withCtx as _withCtx, createTextVNode as _createTextVNode, openBlock as _openBlock, createBlock as _createBlock, withModifiers as _withModifiers, createElementBlock as _createElementBlock } from "/node_modules/.vite/deps/vue.js?v=10b713a3";
const _hoisted_1 = { class: "w-full" };
const _hoisted_2 = { class: "text-center py-4" };
const _hoisted_3 = { class: "text-2xl font-semibold m-0" };
const _hoisted_4 = { for: "username" };
const _hoisted_5 = { for: "password" };
function _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {
  return _openBlock(), _createElementBlock("div", _hoisted_1, [
    _createCommentVNode(" Login Form "),
    !$setup.showExtensionModal ? (_openBlock(), _createBlock($setup["Card"], {
      key: 0,
      class: "shadow-2"
    }, {
      header: _withCtx(() => [
        _createElementVNode("div", _hoisted_2, [
          _createVNode($setup["Avatar"], {
            icon: "pi pi-user",
            size: "xlarge",
            class: "mb-3"
          }),
          _createElementVNode(
            "h2",
            _hoisted_3,
            _toDisplayString($setup.t("auth.login")),
            1
            /* TEXT */
          )
        ])
      ]),
      content: _withCtx(() => [
        _createCommentVNode(' <div class="mb-4">\n          <LanguageSwitcher />\n        </div> '),
        _createElementVNode(
          "form",
          {
            onSubmit: _withModifiers($setup.handleLogin, ["prevent"]),
            class: "flex flex-col gap-4"
          },
          [
            _createVNode($setup["FloatLabel"], null, {
              default: _withCtx(() => [
                _createVNode($setup["InputText"], {
                  id: "username",
                  modelValue: $setup.form.username,
                  "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.form.username = $event),
                  type: "email",
                  invalid: !!($setup.authStore.error && !$setup.form.username),
                  disabled: $setup.authStore.isLoading,
                  class: "w-full"
                }, null, 8, ["modelValue", "invalid", "disabled"]),
                _createElementVNode(
                  "label",
                  _hoisted_4,
                  _toDisplayString($setup.t("auth.email")),
                  1
                  /* TEXT */
                )
              ]),
              _: 1
              /* STABLE */
            }),
            _createVNode($setup["FloatLabel"], { class: "mt-3" }, {
              default: _withCtx(() => [
                _createVNode($setup["Password"], {
                  id: "password",
                  modelValue: $setup.form.password,
                  "onUpdate:modelValue": _cache[1] || (_cache[1] = ($event) => $setup.form.password = $event),
                  feedback: false,
                  toggleMask: "",
                  invalid: !!($setup.authStore.error && !$setup.form.password),
                  disabled: $setup.authStore.isLoading,
                  class: "w-full",
                  inputClass: "w-full"
                }, null, 8, ["modelValue", "invalid", "disabled"]),
                _createElementVNode(
                  "label",
                  _hoisted_5,
                  _toDisplayString($setup.t("auth.password")),
                  1
                  /* TEXT */
                )
              ]),
              _: 1
              /* STABLE */
            }),
            $setup.authStore.error ? (_openBlock(), _createBlock($setup["Message"], {
              key: 0,
              severity: "error",
              closable: true,
              onClose: $setup.authStore.clearError
            }, {
              default: _withCtx(() => [
                _createTextVNode(
                  _toDisplayString($setup.authStore.error),
                  1
                  /* TEXT */
                )
              ]),
              _: 1
              /* STABLE */
            }, 8, ["onClose"])) : _createCommentVNode("v-if", true),
            _createVNode($setup["Button"], {
              type: "submit",
              loading: $setup.authStore.isLoading,
              disabled: !$setup.isFormValid,
              label: $setup.t("auth.signIn"),
              loadingIcon: "pi pi-spin pi-spinner",
              class: "w-full",
              size: "large"
            }, null, 8, ["loading", "disabled", "label"])
          ],
          32
          /* NEED_HYDRATION */
        )
      ]),
      _: 1
      /* STABLE */
    })) : _createCommentVNode("v-if", true),
    _createCommentVNode(" Extension Selector Modal "),
    $setup.showExtensionModal ? (_openBlock(), _createBlock($setup["ExtensionSelector"], {
      key: 1,
      onExtensionSelected: $setup.onExtensionSelected,
      onLogout: $setup.onLogout
    })) : _createCommentVNode("v-if", true)
  ]);
}
_sfc_main.__hmrId = "e930d7bc";
typeof __VUE_HMR_RUNTIME__ !== "undefined" && __VUE_HMR_RUNTIME__.createRecord(_sfc_main.__hmrId, _sfc_main);
import.meta.hot.on("file-changed", ({ file }) => {
  __VUE_HMR_RUNTIME__.CHANGED_FILE = file;
});
import.meta.hot.accept((mod) => {
  if (!mod) return;
  const { default: updated, _rerender_only } = mod;
  if (_rerender_only) {
    __VUE_HMR_RUNTIME__.rerender(updated.__hmrId, updated.render);
  } else {
    __VUE_HMR_RUNTIME__.reload(updated.__hmrId, updated);
  }
});
import _export_sfc from "/@id/__x00__plugin-vue:export-helper";
export default /* @__PURE__ */ _export_sfc(_sfc_main, [["render", _sfc_render], ["__file", "C:/respos/AlmaPhone/src/components/login/LoginForm.vue"]]);

//# sourceMappingURL=data:application/json;base64,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LGlCQUExQixTQUFDO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7WUFHNUIsYUFZYSx3QkFaRCxPQUFNLE9BQU07QUFBQSxnQ0FDdEIsTUFTRTtBQUFBLGdCQVRGLGFBU0U7QUFBQSxrQkFSQSxJQUFHO0FBQUEsOEJBQ00sWUFBSztBQUFBLCtFQUFMLFlBQUssV0FBUTtBQUFBLGtCQUNyQixVQUFVO0FBQUEsa0JBQ1g7QUFBQSxrQkFDQyxTQUFPLEdBQUssaUJBQVUsU0FBSyxDQUFLLFlBQUs7QUFBQSxrQkFDckMsVUFBVSxpQkFBVTtBQUFBLGtCQUNyQixPQUFNO0FBQUEsa0JBQ04sWUFBVztBQUFBO2dCQUViO0FBQUEsa0JBQXNEO0FBQUEsa0JBQXREO0FBQUEsa0JBQXNELGlCQUE3QixTQUFDO0FBQUE7QUFBQTtBQUFBO0FBQUE7Ozs7WUFJcEIsaUJBQVUsdUJBRGxCLGFBT1U7QUFBQTtjQUxSLFVBQVM7QUFBQSxjQUNSLFVBQVU7QUFBQSxjQUNWLFNBQU8saUJBQVU7QUFBQTtnQ0FFbEIsTUFBcUI7QUFBQTttQ0FBbEIsaUJBQVUsS0FBSztBQUFBO0FBQUE7QUFBQTtBQUFBOzs7O1lBR3BCLGFBUUU7QUFBQSxjQVBBLE1BQUs7QUFBQSxjQUNKLFNBQVMsaUJBQVU7QUFBQSxjQUNuQixVQUFRLENBQUc7QUFBQSxjQUNYLE9BQU8sU0FBQztBQUFBLGNBQ1QsYUFBWTtBQUFBLGNBQ1osT0FBTTtBQUFBLGNBQ04sTUFBSztBQUFBOzs7Ozs7Ozs7SUFNYjtBQUFBLElBRVEsMkNBRFIsYUFJRTtBQUFBO01BRkMscUJBQW9CO0FBQUEsTUFDcEIsVUFBUTtBQUFBIiwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlcyI6WyJMb2dpbkZvcm0udnVlIl0sInNvdXJjZXNDb250ZW50IjpbIjx0ZW1wbGF0ZT5cbiAgPGRpdiBjbGFzcz1cInctZnVsbFwiPlxuICAgIDwhLS0gTG9naW4gRm9ybSAtLT5cbiAgICA8Q2FyZCB2LWlmPVwiIXNob3dFeHRlbnNpb25Nb2RhbFwiIGNsYXNzPVwic2hhZG93LTJcIj5cbiAgICAgIDx0ZW1wbGF0ZSAjaGVhZGVyPlxuICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXIgcHktNFwiPlxuICAgICAgICAgIDxBdmF0YXIgaWNvbj1cInBpIHBpLXVzZXJcIiBzaXplPVwieGxhcmdlXCIgY2xhc3M9XCJtYi0zXCIgLz5cbiAgICAgICAgICA8aDIgY2xhc3M9XCJ0ZXh0LTJ4bCBmb250LXNlbWlib2xkIG0tMFwiPnt7IHQoJ2F1dGgubG9naW4nKSB9fTwvaDI+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC90ZW1wbGF0ZT5cblxuICAgICAgPHRlbXBsYXRlICNjb250ZW50PlxuICAgICAgICA8IS0tIDxkaXYgY2xhc3M9XCJtYi00XCI+XG4gICAgICAgICAgPExhbmd1YWdlU3dpdGNoZXIgLz5cbiAgICAgICAgPC9kaXY+IC0tPlxuICAgICAgICA8Zm9ybSBAc3VibWl0LnByZXZlbnQ9XCJoYW5kbGVMb2dpblwiIGNsYXNzPVwiZmxleCBmbGV4LWNvbCBnYXAtNFwiPlxuICAgICAgICAgIDxGbG9hdExhYmVsPlxuICAgICAgICAgICAgPElucHV0VGV4dFxuICAgICAgICAgICAgICBpZD1cInVzZXJuYW1lXCJcbiAgICAgICAgICAgICAgdi1tb2RlbD1cImZvcm0udXNlcm5hbWVcIlxuICAgICAgICAgICAgICB0eXBlPVwiZW1haWxcIlxuICAgICAgICAgICAgICA6aW52YWxpZD1cIiEhKGF1dGhTdG9yZS5lcnJvciAmJiAhZm9ybS51c2VybmFtZSlcIlxuICAgICAgICAgICAgICA6ZGlzYWJsZWQ9XCJhdXRoU3RvcmUuaXNMb2FkaW5nXCJcbiAgICAgICAgICAgICAgY2xhc3M9XCJ3LWZ1bGxcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJ1c2VybmFtZVwiPnt7IHQoJ2F1dGguZW1haWwnKSB9fTwvbGFiZWw+XG4gICAgICAgICAgPC9GbG9hdExhYmVsPlxuXG4gICAgICAgICAgPEZsb2F0TGFiZWwgY2xhc3M9XCJtdC0zXCI+XG4gICAgICAgICAgICA8UGFzc3dvcmRcbiAgICAgICAgICAgICAgaWQ9XCJwYXNzd29yZFwiXG4gICAgICAgICAgICAgIHYtbW9kZWw9XCJmb3JtLnBhc3N3b3JkXCJcbiAgICAgICAgICAgICAgOmZlZWRiYWNrPVwiZmFsc2VcIlxuICAgICAgICAgICAgICB0b2dnbGVNYXNrXG4gICAgICAgICAgICAgIDppbnZhbGlkPVwiISEoYXV0aFN0b3JlLmVycm9yICYmICFmb3JtLnBhc3N3b3JkKVwiXG4gICAgICAgICAgICAgIDpkaXNhYmxlZD1cImF1dGhTdG9yZS5pc0xvYWRpbmdcIlxuICAgICAgICAgICAgICBjbGFzcz1cInctZnVsbFwiXG4gICAgICAgICAgICAgIGlucHV0Q2xhc3M9XCJ3LWZ1bGxcIlxuICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDxsYWJlbCBmb3I9XCJwYXNzd29yZFwiPnt7IHQoJ2F1dGgucGFzc3dvcmQnKSB9fTwvbGFiZWw+XG4gICAgICAgICAgPC9GbG9hdExhYmVsPlxuXG4gICAgICAgICAgPE1lc3NhZ2VcbiAgICAgICAgICAgIHYtaWY9XCJhdXRoU3RvcmUuZXJyb3JcIlxuICAgICAgICAgICAgc2V2ZXJpdHk9XCJlcnJvclwiXG4gICAgICAgICAgICA6Y2xvc2FibGU9XCJ0cnVlXCJcbiAgICAgICAgICAgIEBjbG9zZT1cImF1dGhTdG9yZS5jbGVhckVycm9yXCJcbiAgICAgICAgICA+XG4gICAgICAgICAgICB7eyBhdXRoU3RvcmUuZXJyb3IgfX1cbiAgICAgICAgICA8L01lc3NhZ2U+XG5cbiAgICAgICAgICA8QnV0dG9uXG4gICAgICAgICAgICB0eXBlPVwic3VibWl0XCJcbiAgICAgICAgICAgIDpsb2FkaW5nPVwiYXV0aFN0b3JlLmlzTG9hZGluZ1wiXG4gICAgICAgICAgICA6ZGlzYWJsZWQ9XCIhaXNGb3JtVmFsaWRcIlxuICAgICAgICAgICAgOmxhYmVsPVwidCgnYXV0aC5zaWduSW4nKVwiXG4gICAgICAgICAgICBsb2FkaW5nSWNvbj1cInBpIHBpLXNwaW4gcGktc3Bpbm5lclwiXG4gICAgICAgICAgICBjbGFzcz1cInctZnVsbFwiXG4gICAgICAgICAgICBzaXplPVwibGFyZ2VcIlxuICAgICAgICAgIC8+XG4gICAgICAgIDwvZm9ybT5cbiAgICAgIDwvdGVtcGxhdGU+XG4gICAgPC9DYXJkPlxuXG4gICAgPCEtLSBFeHRlbnNpb24gU2VsZWN0b3IgTW9kYWwgLS0+XG4gICAgPEV4dGVuc2lvblNlbGVjdG9yXG4gICAgICB2LWlmPVwic2hvd0V4dGVuc2lvbk1vZGFsXCJcbiAgICAgIEBleHRlbnNpb24tc2VsZWN0ZWQ9XCJvbkV4dGVuc2lvblNlbGVjdGVkXCJcbiAgICAgIEBsb2dvdXQ9XCJvbkxvZ291dFwiXG4gICAgLz5cbiAgPC9kaXY+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHsgcmVmLCBjb21wdXRlZCB9IGZyb20gJ3Z1ZSdcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ3Z1ZS1yb3V0ZXInXG5pbXBvcnQgeyB1c2VJMThuIH0gZnJvbSAndnVlLWkxOG4nXG5pbXBvcnQgeyB1c2VBdXRoU3RvcmUgfSBmcm9tICcuL0F1dGhTdG9yZSdcbmltcG9ydCBDYXJkIGZyb20gJ3ByaW1ldnVlL2NhcmQnXG5pbXBvcnQgSW5wdXRUZXh0IGZyb20gJ3ByaW1ldnVlL2lucHV0dGV4dCdcbmltcG9ydCBQYXNzd29yZCBmcm9tICdwcmltZXZ1ZS9wYXNzd29yZCdcbmltcG9ydCBCdXR0b24gZnJvbSAncHJpbWV2dWUvYnV0dG9uJ1xuaW1wb3J0IE1lc3NhZ2UgZnJvbSAncHJpbWV2dWUvbWVzc2FnZSdcbmltcG9ydCBGbG9hdExhYmVsIGZyb20gJ3ByaW1ldnVlL2Zsb2F0bGFiZWwnXG5pbXBvcnQgQXZhdGFyIGZyb20gJ3ByaW1ldnVlL2F2YXRhcidcbmltcG9ydCBFeHRlbnNpb25TZWxlY3RvciBmcm9tICdAL2NvbXBvbmVudHMvZXh0ZW5zaW9uLXNlbGVjdG9yL0V4dGVuc2lvblNlbGVjdG9yLnZ1ZSdcbmltcG9ydCB7IHVzZVNpcFN0b3JlIH0gZnJvbSAnLi9TaXBTdG9yZSdcbmltcG9ydCB7IHVzZUV4dGVuc2lvblN0b3JlIH0gZnJvbSAnLi4vZXh0ZW5zaW9uLXNlbGVjdG9yL0V4dGVuc2lvblN0b3JlJ1xuLy8gaW1wb3J0IExhbmd1YWdlU3dpdGNoZXIgZnJvbSAnQC9jb3JlL3ByZXNlbnRhdGlvbi9jb21wb25lbnRzL0xhbmd1YWdlU3dpdGNoZXIudnVlJ1xuXG5jb25zdCB7IHQgfSA9IHVzZUkxOG4oKVxuY29uc3QgYXV0aFN0b3JlID0gdXNlQXV0aFN0b3JlKClcbmNvbnN0IGV4dGVuc2lvblN0b3JlID0gdXNlRXh0ZW5zaW9uU3RvcmUoKVxuY29uc3Qgc2lwU3RvcmUgPSB1c2VTaXBTdG9yZSgpXG5jb25zdCByb3V0ZXIgPSB1c2VSb3V0ZXIoKVxuXG5jb25zdCBmb3JtID0gcmVmKHtcbiAgdXNlcm5hbWU6ICcnLFxuICBwYXNzd29yZDogJycsXG59KVxuXG5jb25zdCBzaG93RXh0ZW5zaW9uTW9kYWwgPSByZWYoZmFsc2UpXG5cbmNvbnN0IGlzRm9ybVZhbGlkID0gY29tcHV0ZWQoKCkgPT4ge1xuICByZXR1cm4gKFxuICAgIGZvcm0udmFsdWUudXNlcm5hbWUudHJpbSgpICE9PSAnJyAmJlxuICAgIGZvcm0udmFsdWUucGFzc3dvcmQudHJpbSgpICE9PSAnJyAmJlxuICAgIGZvcm0udmFsdWUudXNlcm5hbWUuaW5jbHVkZXMoJ0AnKVxuICApXG59KVxuXG5jb25zdCBoYW5kbGVMb2dpbiA9IGFzeW5jICgpID0+IHtcbiAgY29uc3Qgc3VjY2VzcyA9IGF3YWl0IGF1dGhTdG9yZS5sb2dpbih7XG4gICAgdXNlcl9lbWFpbDogZm9ybS52YWx1ZS51c2VybmFtZSxcbiAgICBwYXNzd29yZDogZm9ybS52YWx1ZS5wYXNzd29yZCxcbiAgfSlcblxuICBpZiAoc3VjY2Vzcykge1xuICAgIHNob3dFeHRlbnNpb25Nb2RhbC52YWx1ZSA9IHRydWVcbiAgfVxufVxuXG5jb25zdCBvbkV4dGVuc2lvblNlbGVjdGVkID0gKCkgPT4ge1xuICBzaG93RXh0ZW5zaW9uTW9kYWwudmFsdWUgPSBmYWxzZVxuICBzaXBTdG9yZS5pbml0aWFsaXplU2lwKHtcbiAgICBzZXJ2ZXI6ICd3c3M6Ly9ob3JuYmxvd2VyLmRvZXNub3RleGlzdC5jb206NzQ0MycsXG4gICAgdXNlcm5hbWU6IGF1dGhTdG9yZS51c2VyPy51c2VybmFtZSB8fCAnJyxcbiAgICBwYXNzd29yZDogZXh0ZW5zaW9uU3RvcmUuc2VsZWN0ZWRFeHRlbnNpb24/LnBhc3N3b3JkIHx8ICcnLFxuICAgIGRvbWFpbjogJ2hvcm5ibG93ZXIuZG9lc25vdGV4aXN0LmNvbScsXG4gICAgZGlzcGxheU5hbWU6ICAnTERMUTInLFxuICB9KVxuICByb3V0ZXIucHVzaCgnL3Bob25lJylcbn1cblxuY29uc3Qgb25Mb2dvdXQgPSAoKSA9PiB7XG4gIHNob3dFeHRlbnNpb25Nb2RhbC52YWx1ZSA9IGZhbHNlXG4gIGF1dGhTdG9yZS5sb2dvdXQoKVxufVxuPC9zY3JpcHQ+XG4iXSwiZmlsZSI6IkM6L3Jlc3Bvcy9BbG1hUGhvbmUvc3JjL2NvbXBvbmVudHMvbG9naW4vTG9naW5Gb3JtLnZ1ZSJ9