import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/src/core/presentation/layouts/DashboardLayout.vue");import { defineComponent as _defineComponent } from "/node_modules/.vite/deps/vue.js?v=1d2656dc";
import { useRouter } from "/node_modules/.vite/deps/vue-router.js?v=1d2656dc";
import { useAuthStore } from "/src/components/login/AuthStore.ts";
import { useExtensionStore } from "/src/components/extension-selector/ExtensionStore.ts?t=1752759984686";
import { computed, onMounted } from "/node_modules/.vite/deps/vue.js?v=1d2656dc";
import Dropdown from "/node_modules/.vite/deps/primevue_dropdown.js?v=1d2656dc";
import { useSipStore } from "/src/components/login/SipStore.ts?t=1752759984686";
import Toast from "/node_modules/.vite/deps/primevue_toast.js?v=1d2656dc";
import { useToast } from "/node_modules/.vite/deps/primevue_usetoast.js?v=1d2656dc";
const _sfc_main = /* @__PURE__ */ _defineComponent({
  __name: "DashboardLayout",
  setup(__props, { expose: __expose }) {
    __expose();
    const router = useRouter();
    const authStore = useAuthStore();
    const extensionStore = useExtensionStore();
    const sipStore = useSipStore();
    const toast = useToast();
    const handleLogout = async () => {
      try {
        if (sipStore.isConnected) {
          await sipStore.disconnect();
        }
        await authStore.logout();
        router.push("/login");
      } catch (error) {
        console.error("Error during logout:", error);
      }
    };
    const selectedExtensionValue = computed({
      get: () => extensionStore.selectedExtension?.extension_uuid || null,
      set: (value) => {
        const extension = extensionStore.availableExtensions.find((ext) => ext.extension_uuid === value);
        if (extension) {
          extensionStore.changeExtension(extension);
        }
      }
    });
    const handleExtensionChange = async (event) => {
      const extensionId = event.value;
      const extension = extensionStore.availableExtensions.find((ext) => ext.extension_uuid === extensionId);
      if (extension) {
        const success = await extensionStore.changeExtension(extension);
        if (success) {
          toast.add({
            severity: "success",
            summary: "Switched Extension",
            detail: `Switched to ${extension.extension}`,
            life: 3e3
          });
        } else {
          toast.add({
            severity: "error",
            summary: "Error",
            detail: "Failed to switch extension",
            life: 3e3
          });
        }
      }
    };
    onMounted(async () => {
      await extensionStore.fetchExtensions();
      extensionStore.restoreSelectedExtension();
    });
    const __returned__ = { router, authStore, extensionStore, sipStore, toast, handleLogout, selectedExtensionValue, handleExtensionChange, get Dropdown() {
      return Dropdown;
    }, get Toast() {
      return Toast;
    } };
    Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
    return __returned__;
  }
});
import { createVNode as _createVNode, createElementVNode as _createElementVNode, toDisplayString as _toDisplayString, openBlock as _openBlock, createBlock as _createBlock, createElementBlock as _createElementBlock, createTextVNode as _createTextVNode, resolveComponent as _resolveComponent, Fragment as _Fragment } from "/node_modules/.vite/deps/vue.js?v=1d2656dc";
const _hoisted_1 = { class: "bg-white dark:bg-gray-800 rounded-lg shadow-sm p-6 border border-gray-200 dark:border-gray-700" };
const _hoisted_2 = { class: "flex items-center justify-between" };
const _hoisted_3 = { class: "flex items-center space-x-4" };
const _hoisted_4 = { class: "text-gray-600 dark:text-gray-400" };
const _hoisted_5 = { class: "ml-2 font-medium text-gray-900 dark:text-white" };
const _hoisted_6 = { class: "text-gray-600 dark:text-gray-400" };
const _hoisted_7 = {
  key: 1,
  class: "ml-2 font-medium text-gray-900 dark:text-white"
};
const _hoisted_8 = { class: "flex items-center space-x-4" };
const _hoisted_9 = ["disabled"];
const _hoisted_10 = {
  key: 0,
  class: "animate-spin -ml-1 mr-2 h-4 w-4 text-white",
  xmlns: "http://www.w3.org/2000/svg",
  fill: "none",
  viewBox: "0 0 24 24"
};
const _hoisted_11 = {
  key: 1,
  class: "-ml-1 mr-2 h-4 w-4",
  fill: "none",
  stroke: "currentColor",
  viewBox: "0 0 24 24"
};
function _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {
  const _component_router_view = _resolveComponent("router-view");
  return _openBlock(), _createElementBlock(
    _Fragment,
    null,
    [
      _createVNode($setup["Toast"]),
      _createElementVNode("div", _hoisted_1, [
        _cache[6] || (_cache[6] = _createElementVNode(
          "h1",
          { class: "text-2xl font-semibold text-gray-900 dark:text-white" },
          " AlmaPhone",
          -1
          /* CACHED */
        )),
        _createElementVNode("div", _hoisted_2, [
          _createElementVNode("div", _hoisted_3, [
            _cache[2] || (_cache[2] = _createElementVNode(
              "div",
              { class: "flex items-center space-x-2" },
              [
                _createElementVNode("div", { class: "w-3 h-3 bg-green-500 rounded-full" })
              ],
              -1
              /* CACHED */
            )),
            _createElementVNode("div", _hoisted_4, [
              _cache[1] || (_cache[1] = _createElementVNode(
                "span",
                { class: "text-sm" },
                "Usuario:",
                -1
                /* CACHED */
              )),
              _createElementVNode(
                "span",
                _hoisted_5,
                _toDisplayString($setup.authStore.userEmail),
                1
                /* TEXT */
              )
            ])
          ]),
          _createElementVNode("div", _hoisted_6, [
            _cache[3] || (_cache[3] = _createElementVNode(
              "span",
              { class: "text-sm" },
              "Extensión:",
              -1
              /* CACHED */
            )),
            $setup.extensionStore.availableExtensions.length > 1 ? (_openBlock(), _createBlock($setup["Dropdown"], {
              key: 0,
              modelValue: $setup.selectedExtensionValue,
              "onUpdate:modelValue": _cache[0] || (_cache[0] = ($event) => $setup.selectedExtensionValue = $event),
              options: $setup.extensionStore.availableExtensions.map((e) => ({ id: e.extension_uuid, name: e.extension })),
              "option-label": "name",
              "option-value": "id",
              onChange: $setup.handleExtensionChange,
              class: "ml-2",
              loading: $setup.extensionStore.isLoading
            }, null, 8, ["modelValue", "options", "loading"])) : (_openBlock(), _createElementBlock(
              "span",
              _hoisted_7,
              _toDisplayString($setup.extensionStore.selectedExtension?.extension || "Sin extensión"),
              1
              /* TEXT */
            ))
          ]),
          _createElementVNode("div", _hoisted_8, [
            _createElementVNode("button", {
              onClick: $setup.handleLogout,
              disabled: $setup.authStore.isLoading,
              class: "inline-flex items-center px-4 py-2 border border-transparent text-sm font-medium rounded-md text-white bg-red-600 hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 disabled:opacity-50 disabled:cursor-not-allowed transition-colors"
            }, [
              $setup.authStore.isLoading ? (_openBlock(), _createElementBlock("svg", _hoisted_10, _cache[4] || (_cache[4] = [
                _createElementVNode(
                  "circle",
                  {
                    class: "opacity-25",
                    cx: "12",
                    cy: "12",
                    r: "10",
                    stroke: "currentColor",
                    "stroke-width": "4"
                  },
                  null,
                  -1
                  /* CACHED */
                ),
                _createElementVNode(
                  "path",
                  {
                    class: "opacity-75",
                    fill: "currentColor",
                    d: "M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"
                  },
                  null,
                  -1
                  /* CACHED */
                )
              ]))) : (_openBlock(), _createElementBlock("svg", _hoisted_11, _cache[5] || (_cache[5] = [
                _createElementVNode(
                  "path",
                  {
                    "stroke-linecap": "round",
                    "stroke-linejoin": "round",
                    "stroke-width": "2",
                    d: "M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a3 3 0 01-3 3H6a3 3 0 01-3-3V7a3 3 0 013-3h4a3 3 0 013 3v1"
                  },
                  null,
                  -1
                  /* CACHED */
                )
              ]))),
              _createTextVNode(
                " " + _toDisplayString($setup.authStore.isLoading ? "Cerrando..." : "Cerrar Sesión"),
                1
                /* TEXT */
              )
            ], 8, _hoisted_9)
          ])
        ])
      ]),
      _createVNode(_component_router_view)
    ],
    64
    /* STABLE_FRAGMENT */
  );
}
import "/src/core/presentation/layouts/DashboardLayout.vue?vue&type=style&index=0&scoped=b4af2a99&lang.css";
_sfc_main.__hmrId = "b4af2a99";
typeof __VUE_HMR_RUNTIME__ !== "undefined" && __VUE_HMR_RUNTIME__.createRecord(_sfc_main.__hmrId, _sfc_main);
import.meta.hot.on("file-changed", ({ file }) => {
  __VUE_HMR_RUNTIME__.CHANGED_FILE = file;
});
import.meta.hot.accept((mod) => {
  if (!mod) return;
  const { default: updated, _rerender_only } = mod;
  if (_rerender_only) {
    __VUE_HMR_RUNTIME__.rerender(updated.__hmrId, updated.render);
  } else {
    __VUE_HMR_RUNTIME__.reload(updated.__hmrId, updated);
  }
});
import _export_sfc from "/@id/__x00__plugin-vue:export-helper";
export default /* @__PURE__ */ _export_sfc(_sfc_main, [["render", _sfc_render], ["__scopeId", "data-v-b4af2a99"], ["__file", "C:/respos/AlmaPhone/src/core/presentation/layouts/DashboardLayout.vue"]]);

//# sourceMappingURL=data:application/json;base64,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QUEsZ0JBRko7QUFBQSxrQkFDa0c7QUFBQTtBQUFBLG9CQUQ1RixrQkFBZTtBQUFBLG9CQUFRLG1CQUFnQjtBQUFBLG9CQUFRLGdCQUFhO0FBQUEsb0JBQ2hFLEdBQUU7QUFBQTs7Ozs7OztnQkFDQSxNQUNOLGlCQUFHLGlCQUFVLFlBQVM7QUFBQTtBQUFBO0FBQUE7QUFBQTs7OztNQUs5QixhQUFlO0FBQUEiLCJuYW1lcyI6W10sImlnbm9yZUxpc3QiOltdLCJzb3VyY2VzIjpbIkRhc2hib2FyZExheW91dC52dWUiXSwic291cmNlc0NvbnRlbnQiOlsiPHRlbXBsYXRlPlxuICA8VG9hc3QgLz5cbiAgPGRpdiBjbGFzcz1cImJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgcm91bmRlZC1sZyBzaGFkb3ctc20gcC02IGJvcmRlciBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDBcIj5cbiAgICA8aDEgY2xhc3M9XCJ0ZXh0LTJ4bCBmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlXCI+IEFsbWFQaG9uZTwvaDE+XG4gICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlblwiPlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0yXCI+XG4gICAgICAgICAgPGRpdiBjbGFzcz1cInctMyBoLTMgYmctZ3JlZW4tNTAwIHJvdW5kZWQtZnVsbFwiPjwvZGl2PlxuICAgICAgICA8L2Rpdj5cbiAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtXCI+VXN1YXJpbzo8L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJtbC0yIGZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlXCI+XG4gICAgICAgICAgICB7eyBhdXRoU3RvcmUudXNlckVtYWlsIH19XG4gICAgICAgICAgPC9zcGFuPlxuICAgICAgICA8L2Rpdj5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IGNsYXNzPVwidGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5cbiAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtXCI+RXh0ZW5zacOzbjo8L3NwYW4+XG4gICAgICAgIDxEcm9wZG93biB2LWlmPVwiZXh0ZW5zaW9uU3RvcmUuYXZhaWxhYmxlRXh0ZW5zaW9ucy5sZW5ndGggPiAxXCIgdi1tb2RlbD1cInNlbGVjdGVkRXh0ZW5zaW9uVmFsdWVcIlxuICAgICAgICAgIDpvcHRpb25zPVwiZXh0ZW5zaW9uU3RvcmUuYXZhaWxhYmxlRXh0ZW5zaW9ucy5tYXAoKGUpID0+ICh7IGlkOiBlLmV4dGVuc2lvbl91dWlkLCBuYW1lOiBlLmV4dGVuc2lvbiB9KSlcIlxuICAgICAgICAgIG9wdGlvbi1sYWJlbD1cIm5hbWVcIiBvcHRpb24tdmFsdWU9XCJpZFwiIEBjaGFuZ2U9XCJoYW5kbGVFeHRlbnNpb25DaGFuZ2VcIiBjbGFzcz1cIm1sLTJcIlxuICAgICAgICAgIDpsb2FkaW5nPVwiZXh0ZW5zaW9uU3RvcmUuaXNMb2FkaW5nXCIgLz5cbiAgICAgICAgPHNwYW4gdi1lbHNlIGNsYXNzPVwibWwtMiBmb250LW1lZGl1bSB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC13aGl0ZVwiPlxuICAgICAgICAgIHt7IGV4dGVuc2lvblN0b3JlLnNlbGVjdGVkRXh0ZW5zaW9uPy5leHRlbnNpb24gfHwgJ1NpbiBleHRlbnNpw7NuJyB9fVxuICAgICAgICA8L3NwYW4+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiBjbGFzcz1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtNFwiPlxuXG4gICAgICAgIDxidXR0b24gQGNsaWNrPVwiaGFuZGxlTG9nb3V0XCIgOmRpc2FibGVkPVwiYXV0aFN0b3JlLmlzTG9hZGluZ1wiXG4gICAgICAgICAgY2xhc3M9XCJpbmxpbmUtZmxleCBpdGVtcy1jZW50ZXIgcHgtNCBweS0yIGJvcmRlciBib3JkZXItdHJhbnNwYXJlbnQgdGV4dC1zbSBmb250LW1lZGl1bSByb3VuZGVkLW1kIHRleHQtd2hpdGUgYmctcmVkLTYwMCBob3ZlcjpiZy1yZWQtNzAwIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgZm9jdXM6cmluZy1vZmZzZXQtMiBmb2N1czpyaW5nLXJlZC01MDAgZGlzYWJsZWQ6b3BhY2l0eS01MCBkaXNhYmxlZDpjdXJzb3Itbm90LWFsbG93ZWQgdHJhbnNpdGlvbi1jb2xvcnNcIj5cbiAgICAgICAgICA8c3ZnIHYtaWY9XCJhdXRoU3RvcmUuaXNMb2FkaW5nXCIgY2xhc3M9XCJhbmltYXRlLXNwaW4gLW1sLTEgbXItMiBoLTQgdy00IHRleHQtd2hpdGVcIlxuICAgICAgICAgICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIGZpbGw9XCJub25lXCIgdmlld0JveD1cIjAgMCAyNCAyNFwiPlxuICAgICAgICAgICAgPGNpcmNsZSBjbGFzcz1cIm9wYWNpdHktMjVcIiBjeD1cIjEyXCIgY3k9XCIxMlwiIHI9XCIxMFwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHN0cm9rZS13aWR0aD1cIjRcIj48L2NpcmNsZT5cbiAgICAgICAgICAgIDxwYXRoIGNsYXNzPVwib3BhY2l0eS03NVwiIGZpbGw9XCJjdXJyZW50Q29sb3JcIlxuICAgICAgICAgICAgICBkPVwiTTQgMTJhOCA4IDAgMDE4LThWMEM1LjM3MyAwIDAgNS4zNzMgMCAxMmg0em0yIDUuMjkxQTcuOTYyIDcuOTYyIDAgMDE0IDEySDBjMCAzLjA0MiAxLjEzNSA1LjgyNCAzIDcuOTM4bDMtMi42NDd6XCI+XG4gICAgICAgICAgICA8L3BhdGg+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgPHN2ZyB2LWVsc2UgY2xhc3M9XCItbWwtMSBtci0yIGgtNCB3LTRcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cImN1cnJlbnRDb2xvclwiIHZpZXdCb3g9XCIwIDAgMjQgMjRcIj5cbiAgICAgICAgICAgIDxwYXRoIHN0cm9rZS1saW5lY2FwPVwicm91bmRcIiBzdHJva2UtbGluZWpvaW49XCJyb3VuZFwiIHN0cm9rZS13aWR0aD1cIjJcIlxuICAgICAgICAgICAgICBkPVwiTTE3IDE2bDQtNG0wIDBsLTQtNG00IDRIN202IDR2MWEzIDMgMCAwMS0zIDNINmEzIDMgMCAwMS0zLTNWN2EzIDMgMCAwMTMtM2g0YTMgMyAwIDAxMyAzdjFcIiAvPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgICAgIHt7IGF1dGhTdG9yZS5pc0xvYWRpbmcgPyAnQ2VycmFuZG8uLi4nIDogJ0NlcnJhciBTZXNpw7NuJyB9fVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuICA8L2Rpdj5cbiAgPHJvdXRlci12aWV3IC8+XG48L3RlbXBsYXRlPlxuXG48c2NyaXB0IHNldHVwIGxhbmc9XCJ0c1wiPlxuaW1wb3J0IHsgdXNlUm91dGVyIH0gZnJvbSAndnVlLXJvdXRlcidcbmltcG9ydCB7IHVzZUF1dGhTdG9yZSB9IGZyb20gJ0AvY29tcG9uZW50cy9sb2dpbi9BdXRoU3RvcmUnXG5pbXBvcnQgeyB1c2VFeHRlbnNpb25TdG9yZSB9IGZyb20gJ0AvY29tcG9uZW50cy9leHRlbnNpb24tc2VsZWN0b3IvRXh0ZW5zaW9uU3RvcmUnXG5pbXBvcnQgeyBjb21wdXRlZCwgb25Nb3VudGVkIH0gZnJvbSAndnVlJ1xuaW1wb3J0IERyb3Bkb3duIGZyb20gJ3ByaW1ldnVlL2Ryb3Bkb3duJ1xuaW1wb3J0IHsgdXNlU2lwU3RvcmUgfSBmcm9tICdAL2NvbXBvbmVudHMvbG9naW4vU2lwU3RvcmUnXG5pbXBvcnQgVG9hc3QgZnJvbSAncHJpbWV2dWUvdG9hc3QnXG5pbXBvcnQgeyB1c2VUb2FzdCB9IGZyb20gJ3ByaW1ldnVlL3VzZXRvYXN0J1xuXG5cbmNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpXG5jb25zdCBhdXRoU3RvcmUgPSB1c2VBdXRoU3RvcmUoKVxuY29uc3QgZXh0ZW5zaW9uU3RvcmUgPSB1c2VFeHRlbnNpb25TdG9yZSgpXG5jb25zdCBzaXBTdG9yZSA9IHVzZVNpcFN0b3JlKClcbmNvbnN0IHRvYXN0ID0gdXNlVG9hc3QoKVxuXG5jb25zdCBoYW5kbGVMb2dvdXQgPSBhc3luYyAoKSA9PiB7XG4gIHRyeSB7XG4gICAgaWYgKHNpcFN0b3JlLmlzQ29ubmVjdGVkKSB7XG4gICAgICBhd2FpdCBzaXBTdG9yZS5kaXNjb25uZWN0KClcbiAgICB9XG5cbiAgICBhd2FpdCBhdXRoU3RvcmUubG9nb3V0KClcbiAgICByb3V0ZXIucHVzaCgnL2xvZ2luJylcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkdXJpbmcgbG9nb3V0OicsIGVycm9yKVxuICB9XG59XG5cbmNvbnN0IHNlbGVjdGVkRXh0ZW5zaW9uVmFsdWUgPSBjb21wdXRlZCh7XG4gIGdldDogKCkgPT4gZXh0ZW5zaW9uU3RvcmUuc2VsZWN0ZWRFeHRlbnNpb24/LmV4dGVuc2lvbl91dWlkIHx8IG51bGwsXG4gIHNldDogKHZhbHVlKSA9PiB7XG4gICAgY29uc3QgZXh0ZW5zaW9uID0gZXh0ZW5zaW9uU3RvcmUuYXZhaWxhYmxlRXh0ZW5zaW9ucy5maW5kKGV4dCA9PiBleHQuZXh0ZW5zaW9uX3V1aWQgPT09IHZhbHVlKVxuICAgIGlmIChleHRlbnNpb24pIHtcbiAgICAgIGV4dGVuc2lvblN0b3JlLmNoYW5nZUV4dGVuc2lvbihleHRlbnNpb24pXG4gICAgfVxuICB9XG59KVxuXG5jb25zdCBoYW5kbGVFeHRlbnNpb25DaGFuZ2UgPSBhc3luYyAoZXZlbnQ6IHsgdmFsdWU6IHN0cmluZyB9KSA9PiB7XG4gIGNvbnN0IGV4dGVuc2lvbklkID0gZXZlbnQudmFsdWVcbiAgY29uc3QgZXh0ZW5zaW9uID0gZXh0ZW5zaW9uU3RvcmUuYXZhaWxhYmxlRXh0ZW5zaW9ucy5maW5kKGV4dCA9PiBleHQuZXh0ZW5zaW9uX3V1aWQgPT09IGV4dGVuc2lvbklkKVxuXG4gIGlmIChleHRlbnNpb24pIHtcbiAgICBjb25zdCBzdWNjZXNzID0gYXdhaXQgZXh0ZW5zaW9uU3RvcmUuY2hhbmdlRXh0ZW5zaW9uKGV4dGVuc2lvbilcbiAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgdG9hc3QuYWRkKHtcbiAgICAgICAgc2V2ZXJpdHk6ICdzdWNjZXNzJyxcbiAgICAgICAgc3VtbWFyeTogJ1N3aXRjaGVkIEV4dGVuc2lvbicsXG4gICAgICAgIGRldGFpbDogYFN3aXRjaGVkIHRvICR7ZXh0ZW5zaW9uLmV4dGVuc2lvbn1gLFxuICAgICAgICBsaWZlOiAzMDAwXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICB0b2FzdC5hZGQoe1xuICAgICAgICBzZXZlcml0eTogJ2Vycm9yJyxcbiAgICAgICAgc3VtbWFyeTogJ0Vycm9yJyxcbiAgICAgICAgZGV0YWlsOiAnRmFpbGVkIHRvIHN3aXRjaCBleHRlbnNpb24nLFxuICAgICAgICBsaWZlOiAzMDAwXG4gICAgICB9KVxuICAgIH1cbiAgfVxufVxuXG5vbk1vdW50ZWQoYXN5bmMgKCkgPT4ge1xuICBhd2FpdCBleHRlbnNpb25TdG9yZS5mZXRjaEV4dGVuc2lvbnMoKVxuICBleHRlbnNpb25TdG9yZS5yZXN0b3JlU2VsZWN0ZWRFeHRlbnNpb24oKVxufSlcblxuPC9zY3JpcHQ+XG5cbjxzdHlsZSBzY29wZWQ+XG5Aa2V5ZnJhbWVzIHNwaW4ge1xuICB0byB7XG4gICAgdHJhbnNmb3JtOiByb3RhdGUoMzYwZGVnKTtcbiAgfVxufVxuPC9zdHlsZT4iXSwiZmlsZSI6IkM6L3Jlc3Bvcy9BbG1hUGhvbmUvc3JjL2NvcmUvcHJlc2VudGF0aW9uL2xheW91dHMvRGFzaGJvYXJkTGF5b3V0LnZ1ZSJ9