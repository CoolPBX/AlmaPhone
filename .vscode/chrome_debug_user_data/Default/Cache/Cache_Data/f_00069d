import { defineStore } from "/node_modules/.vite/deps/pinia.js?v=10b713a3";
import { URI } from "/node_modules/.vite/deps/sip__js_lib_grammar_uri.js?v=10b713a3";
import {
  SimpleUser
} from "/node_modules/.vite/deps/sip__js_lib_platform_web.js?v=10b713a3";
import { ref } from "/node_modules/.vite/deps/vue.js?v=10b713a3";
export const useSipStore = defineStore("sip", () => {
  const simpleUser = ref(null);
  const isConnected = ref(false);
  const isRegistered = ref(false);
  const voicemail = ref({ new: 0, old: 0 });
  const isDnd = ref(false);
  const isAutoAnswer = ref(false);
  const callState = ref("idle");
  const connectionState = ref(
    "disconnected"
  );
  const callStartTime = ref(null);
  const error = ref(null);
  const isMuted = ref(false);
  const isOnHold = ref(false);
  const audioElement = ref(null);
  const sipConfig = ref({
    server: "wss://hornblower.doesnotexist.com:7443",
    username: "LDLQ2",
    password: "",
    domain: "hornblower.doesnotexist.com",
    displayName: ""
  });
  const advancedConfig = ref({
    sipDomain: "hornblower.doesnotexist.com",
    wssProxy: "hornblower.doesnotexist.com",
    wssPort: "7443",
    blf: []
  });
  const createSimpleUserDelegate = () => ({
    onCallCreated: () => {
      console.log("Call created");
      callState.value = "calling";
      callStartTime.value = /* @__PURE__ */ new Date();
    },
    onCallReceived: async () => {
      console.log("Call received");
      if (isDnd.value) {
        console.log("Llamada entrante ignorada por DND");
        simpleUser.value?.hangup();
        return;
      }
      callState.value = "ringing";
      if (isAutoAnswer.value) {
        console.log("Auto-answer enabled, answering call");
        try {
          await simpleUser.value?.answer();
        } catch (err) {
          console.error("Error auto-answering call:", err);
          error.value = err instanceof Error ? err.message : "Error auto-answering call";
        }
      }
    },
    onCallAnswered: () => {
      console.log("Call answered");
      callState.value = "connected";
    },
    onCallHangup: () => {
      console.log("Call hangup");
      callState.value = "ended";
      callStartTime.value = null;
      isMuted.value = false;
      isOnHold.value = false;
    },
    onCallHold: (held) => {
      console.log(`Call hold ${held}`);
      isOnHold.value = held;
    },
    onRegistered: () => {
      console.log("Registered");
      isRegistered.value = true;
    },
    onUnregistered: () => {
      console.log("Unregistered");
      isRegistered.value = false;
    },
    onServerConnect: () => {
      console.log("Server connected");
      isConnected.value = true;
      connectionState.value = "connected";
    },
    onServerDisconnect: () => {
      console.log("Server disconnected");
      isConnected.value = false;
      isRegistered.value = false;
      connectionState.value = "disconnected";
      setTimeout(() => {
        if (simpleUser.value && connectionState.value === "disconnected") {
          reconnect();
        }
      }, 5e3);
    }
  });
  const initializeSip = async (config, remoteAudio) => {
    try {
      sipConfig.value = { ...sipConfig.value, ...config };
      if (remoteAudio) {
        audioElement.value = remoteAudio;
      }
      connectionState.value = "connecting";
      error.value = null;
      const webSocketServer = sipConfig.value.server;
      const simpleUserOptions = {
        delegate: createSimpleUserDelegate(),
        media: {
          remote: {
            audio: audioElement.value || void 0
          }
        },
        userAgentOptions: {
          displayName: sipConfig.value.displayName,
          authorizationUsername: sipConfig.value.username,
          authorizationPassword: sipConfig.value.password,
          uri: new URI("sip", sipConfig.value.username, sipConfig.value.domain),
          transportOptions: {
            server: webSocketServer,
            connectionTimeout: 1e4,
            keepAliveInterval: 3e4,
            traceSip: true,
            allowLegacyNotifications: true,
            wsServerMaxReconnection: 5e3,
            wsServerReconnectionTimeout: 1,
            connectionRecoveryMaxInterval: 3,
            connectionRecoveryMinInterval: 2
          }
        }
      };
      simpleUser.value = new SimpleUser(webSocketServer, simpleUserOptions);
      await simpleUser.value.connect();
      await simpleUser.value.register();
      return true;
    } catch (err) {
      console.error("Error inicializando SIP:", err);
      error.value = err instanceof Error ? err.message : "Error desconocido";
      connectionState.value = "disconnected";
      return false;
    }
  };
  const reconnect = async () => {
    if (simpleUser.value) {
      connectionState.value = "reconnecting";
      try {
        await simpleUser.value.connect();
        await simpleUser.value.register();
      } catch (err) {
        console.error("Error reconnecting:", err);
        connectionState.value = "disconnected";
      }
    }
  };
  const makeCall = async (number) => {
    try {
      if (!simpleUser.value || !isConnected.value) {
        throw new Error("SIP no estÃ¡ conectado");
      }
      const target = `sip:${number}@${sipConfig.value.domain}`;
      await simpleUser.value.call(target, {
        inviteWithoutSdp: false
      });
      return true;
    } catch (err) {
      console.error("Error haciendo llamada:", err);
      error.value = err instanceof Error ? err.message : "Error en la llamada";
      callState.value = "idle";
      return false;
    }
  };
  const endCall = async () => {
    try {
      if (simpleUser.value) {
        await simpleUser.value.hangup();
      }
    } catch (err) {
      console.error("Error terminando llamada:", err);
      error.value = err instanceof Error ? err.message : "Error terminando llamada";
    }
  };
  const answerCall = async () => {
    try {
      if (simpleUser.value) {
        await simpleUser.value.answer();
      }
    } catch (err) {
      console.error("Error contestando llamada:", err);
      error.value = err instanceof Error ? err.message : "Error contestando llamada";
    }
  };
  const muteCall = () => {
    try {
      if (simpleUser.value) {
        simpleUser.value.mute();
        isMuted.value = simpleUser.value.isMuted();
      }
    } catch (err) {
      console.error("Error muting call:", err);
    }
  };
  const unmuteCall = () => {
    try {
      if (simpleUser.value) {
        simpleUser.value.unmute();
        isMuted.value = simpleUser.value.isMuted();
      }
    } catch (err) {
      console.error("Error unmuting call:", err);
    }
  };
  const toggleMute = () => {
    if (isMuted.value) {
      unmuteCall();
    } else {
      muteCall();
    }
  };
  const holdCall = async () => {
    try {
      if (simpleUser.value) {
        await simpleUser.value.hold();
      }
    } catch (err) {
      console.error("Error holding call:", err);
      error.value = err instanceof Error ? err.message : "Error poniendo en espera";
    }
  };
  const unholdCall = async () => {
    try {
      if (simpleUser.value) {
        await simpleUser.value.unhold();
      }
    } catch (err) {
      console.error("Error unholding call:", err);
      error.value = err instanceof Error ? err.message : "Error quitando de espera";
    }
  };
  const toggleHold = async () => {
    if (isOnHold.value) {
      await unholdCall();
    } else {
      await holdCall();
    }
  };
  const sendDTMF = async (tone) => {
    try {
      if (simpleUser.value) {
        await simpleUser.value.sendDTMF(tone);
      }
    } catch (err) {
      console.error("Error sending DTMF:", err);
      error.value = err instanceof Error ? err.message : "Error enviando DTMF";
    }
  };
  const disconnect = async () => {
    try {
      if (simpleUser.value) {
        await simpleUser.value.disconnect();
      }
      connectionState.value = "disconnected";
      isConnected.value = false;
      isRegistered.value = false;
    } catch (err) {
      console.error("Error disconnecting:", err);
      error.value = err instanceof Error ? err.message : "Error desconectando";
    }
  };
  const setAudioElement = (element) => {
    audioElement.value = element;
  };
  return {
    // State
    simpleUser,
    isRegistered,
    isConnected,
    connectionState,
    error,
    sipConfig,
    isAutoAnswer,
    voicemail,
    isDnd,
    callState,
    callStartTime,
    isMuted,
    isOnHold,
    // Actions
    initializeSip,
    makeCall,
    endCall,
    answerCall,
    muteCall,
    unmuteCall,
    toggleMute,
    holdCall,
    unholdCall,
    toggleHold,
    sendDTMF,
    disconnect,
    setAudioElement,
    reconnect
  };
});

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlNpcFN0b3JlLnRzIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IGRlZmluZVN0b3JlIH0gZnJvbSAncGluaWEnXHJcbmltcG9ydCB7IFVSSSB9IGZyb20gJ3NpcC5qcy9saWIvZ3JhbW1hci91cmknXHJcbmltcG9ydCB7XHJcbiAgU2ltcGxlVXNlcixcclxuICB0eXBlIFNpbXBsZVVzZXJEZWxlZ2F0ZSxcclxuICB0eXBlIFNpbXBsZVVzZXJPcHRpb25zLFxyXG59IGZyb20gJ3NpcC5qcy9saWIvcGxhdGZvcm0vd2ViJ1xyXG5pbXBvcnQgeyByZWYgfSBmcm9tICd2dWUnXHJcblxyXG5leHBvcnQgY29uc3QgdXNlU2lwU3RvcmUgPSBkZWZpbmVTdG9yZSgnc2lwJywgKCkgPT4ge1xyXG4gIGNvbnN0IHNpbXBsZVVzZXIgPSByZWY8U2ltcGxlVXNlciB8IG51bGw+KG51bGwpXHJcbiAgY29uc3QgaXNDb25uZWN0ZWQgPSByZWYoZmFsc2UpXHJcbiAgY29uc3QgaXNSZWdpc3RlcmVkID0gcmVmKGZhbHNlKVxyXG4gIGNvbnN0IHZvaWNlbWFpbCA9IHJlZih7IG5ldzogMCwgb2xkOiAwIH0pXHJcbiAgY29uc3QgaXNEbmQgPSByZWYoZmFsc2UpXHJcbiAgY29uc3QgaXNBdXRvQW5zd2VyID0gcmVmKGZhbHNlKVxyXG4gIGNvbnN0IGNhbGxTdGF0ZSA9IHJlZjwnaWRsZScgfCAnY2FsbGluZycgfCAncmluZ2luZycgfCAnY29ubmVjdGVkJyB8ICdlbmRlZCc+KCdpZGxlJylcclxuICBjb25zdCBjb25uZWN0aW9uU3RhdGUgPSByZWY8J2Rpc2Nvbm5lY3RlZCcgfCAnY29ubmVjdGluZycgfCAnY29ubmVjdGVkJyB8ICdyZWNvbm5lY3RpbmcnPihcclxuICAgICdkaXNjb25uZWN0ZWQnLFxyXG4gIClcclxuICBjb25zdCBjYWxsU3RhcnRUaW1lID0gcmVmPERhdGUgfCBudWxsPihudWxsKVxyXG4gIGNvbnN0IGVycm9yID0gcmVmPHN0cmluZyB8IG51bGw+KG51bGwpXHJcbiAgY29uc3QgaXNNdXRlZCA9IHJlZihmYWxzZSlcclxuICBjb25zdCBpc09uSG9sZCA9IHJlZihmYWxzZSlcclxuXHJcbiAgY29uc3QgYXVkaW9FbGVtZW50ID0gcmVmPEhUTUxBdWRpb0VsZW1lbnQgfCBudWxsPihudWxsKVxyXG5cclxuICBjb25zdCBzaXBDb25maWcgPSByZWYoe1xyXG4gICAgc2VydmVyOiAnd3NzOi8vaG9ybmJsb3dlci5kb2Vzbm90ZXhpc3QuY29tOjc0NDMnLFxyXG4gICAgdXNlcm5hbWU6ICdMRExRMicsXHJcbiAgICBwYXNzd29yZDogJycsXHJcbiAgICBkb21haW46ICdob3JuYmxvd2VyLmRvZXNub3RleGlzdC5jb20nLFxyXG4gICAgZGlzcGxheU5hbWU6ICcnLFxyXG4gIH0pXHJcblxyXG4gIGNvbnN0IGFkdmFuY2VkQ29uZmlnID0gcmVmKHtcclxuICAgIHNpcERvbWFpbjogJ2hvcm5ibG93ZXIuZG9lc25vdGV4aXN0LmNvbScsXHJcbiAgICB3c3NQcm94eTogJ2hvcm5ibG93ZXIuZG9lc25vdGV4aXN0LmNvbScsXHJcbiAgICB3c3NQb3J0OiAnNzQ0MycsXHJcbiAgICBibGY6IFtdLFxyXG4gIH0pXHJcblxyXG4gIGNvbnN0IGNyZWF0ZVNpbXBsZVVzZXJEZWxlZ2F0ZSA9ICgpOiBTaW1wbGVVc2VyRGVsZWdhdGUgPT4gKHtcclxuICAgIG9uQ2FsbENyZWF0ZWQ6ICgpOiB2b2lkID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ0NhbGwgY3JlYXRlZCcpXHJcbiAgICAgIGNhbGxTdGF0ZS52YWx1ZSA9ICdjYWxsaW5nJ1xyXG4gICAgICBjYWxsU3RhcnRUaW1lLnZhbHVlID0gbmV3IERhdGUoKVxyXG4gICAgfSxcclxuICAgIG9uQ2FsbFJlY2VpdmVkOiBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdDYWxsIHJlY2VpdmVkJylcclxuICAgICAgaWYgKGlzRG5kLnZhbHVlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0xsYW1hZGEgZW50cmFudGUgaWdub3JhZGEgcG9yIERORCcpXHJcbiAgICAgICAgc2ltcGxlVXNlci52YWx1ZT8uaGFuZ3VwKClcclxuICAgICAgICByZXR1cm5cclxuICAgICAgfVxyXG4gICAgICBjYWxsU3RhdGUudmFsdWUgPSAncmluZ2luZydcclxuXHJcbiAgICAgIGlmIChpc0F1dG9BbnN3ZXIudmFsdWUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnQXV0by1hbnN3ZXIgZW5hYmxlZCwgYW5zd2VyaW5nIGNhbGwnKVxyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBhd2FpdCBzaW1wbGVVc2VyLnZhbHVlPy5hbnN3ZXIoKVxyXG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgYXV0by1hbnN3ZXJpbmcgY2FsbDonLCBlcnIpXHJcbiAgICAgICAgICBlcnJvci52YWx1ZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnRXJyb3IgYXV0by1hbnN3ZXJpbmcgY2FsbCdcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH0sXHJcbiAgICBvbkNhbGxBbnN3ZXJlZDogKCk6IHZvaWQgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZygnQ2FsbCBhbnN3ZXJlZCcpXHJcbiAgICAgIGNhbGxTdGF0ZS52YWx1ZSA9ICdjb25uZWN0ZWQnXHJcbiAgICB9LFxyXG4gICAgb25DYWxsSGFuZ3VwOiAoKTogdm9pZCA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdDYWxsIGhhbmd1cCcpXHJcbiAgICAgIGNhbGxTdGF0ZS52YWx1ZSA9ICdlbmRlZCdcclxuICAgICAgY2FsbFN0YXJ0VGltZS52YWx1ZSA9IG51bGxcclxuICAgICAgaXNNdXRlZC52YWx1ZSA9IGZhbHNlXHJcbiAgICAgIGlzT25Ib2xkLnZhbHVlID0gZmFsc2VcclxuICAgIH0sXHJcbiAgICBvbkNhbGxIb2xkOiAoaGVsZDogYm9vbGVhbik6IHZvaWQgPT4ge1xyXG4gICAgICBjb25zb2xlLmxvZyhgQ2FsbCBob2xkICR7aGVsZH1gKVxyXG4gICAgICBpc09uSG9sZC52YWx1ZSA9IGhlbGRcclxuICAgIH0sXHJcbiAgICBvblJlZ2lzdGVyZWQ6ICgpOiB2b2lkID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ1JlZ2lzdGVyZWQnKVxyXG4gICAgICBpc1JlZ2lzdGVyZWQudmFsdWUgPSB0cnVlXHJcbiAgICB9LFxyXG4gICAgb25VbnJlZ2lzdGVyZWQ6ICgpOiB2b2lkID0+IHtcclxuICAgICAgY29uc29sZS5sb2coJ1VucmVnaXN0ZXJlZCcpXHJcbiAgICAgIGlzUmVnaXN0ZXJlZC52YWx1ZSA9IGZhbHNlXHJcbiAgICB9LFxyXG4gICAgb25TZXJ2ZXJDb25uZWN0OiAoKTogdm9pZCA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdTZXJ2ZXIgY29ubmVjdGVkJylcclxuICAgICAgaXNDb25uZWN0ZWQudmFsdWUgPSB0cnVlXHJcbiAgICAgIGNvbm5lY3Rpb25TdGF0ZS52YWx1ZSA9ICdjb25uZWN0ZWQnXHJcbiAgICB9LFxyXG4gICAgb25TZXJ2ZXJEaXNjb25uZWN0OiAoKTogdm9pZCA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKCdTZXJ2ZXIgZGlzY29ubmVjdGVkJylcclxuICAgICAgaXNDb25uZWN0ZWQudmFsdWUgPSBmYWxzZVxyXG4gICAgICBpc1JlZ2lzdGVyZWQudmFsdWUgPSBmYWxzZVxyXG4gICAgICBjb25uZWN0aW9uU3RhdGUudmFsdWUgPSAnZGlzY29ubmVjdGVkJ1xyXG5cclxuICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgaWYgKHNpbXBsZVVzZXIudmFsdWUgJiYgY29ubmVjdGlvblN0YXRlLnZhbHVlID09PSAnZGlzY29ubmVjdGVkJykge1xyXG4gICAgICAgICAgcmVjb25uZWN0KClcclxuICAgICAgICB9XHJcbiAgICAgIH0sIDUwMDApXHJcbiAgICB9LFxyXG4gIH0pXHJcblxyXG4gIGNvbnN0IGluaXRpYWxpemVTaXAgPSBhc3luYyAoXHJcbiAgICBjb25maWc6IHtcclxuICAgICAgc2VydmVyOiBzdHJpbmdcclxuICAgICAgdXNlcm5hbWU6IHN0cmluZ1xyXG4gICAgICBwYXNzd29yZDogc3RyaW5nXHJcbiAgICAgIGRvbWFpbjogc3RyaW5nXHJcbiAgICAgIGRpc3BsYXlOYW1lOiBzdHJpbmdcclxuICAgIH0sXHJcbiAgICByZW1vdGVBdWRpbz86IEhUTUxBdWRpb0VsZW1lbnQsXHJcbiAgKTogUHJvbWlzZTxib29sZWFuPiA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBzaXBDb25maWcudmFsdWUgPSB7IC4uLnNpcENvbmZpZy52YWx1ZSwgLi4uY29uZmlnIH1cclxuXHJcbiAgICAgIGlmIChyZW1vdGVBdWRpbykge1xyXG4gICAgICAgIGF1ZGlvRWxlbWVudC52YWx1ZSA9IHJlbW90ZUF1ZGlvXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbm5lY3Rpb25TdGF0ZS52YWx1ZSA9ICdjb25uZWN0aW5nJ1xyXG4gICAgICBlcnJvci52YWx1ZSA9IG51bGxcclxuXHJcbiAgICAgIGNvbnN0IHdlYlNvY2tldFNlcnZlciA9IHNpcENvbmZpZy52YWx1ZS5zZXJ2ZXJcclxuXHJcbiAgICAgIGNvbnN0IHNpbXBsZVVzZXJPcHRpb25zOiBTaW1wbGVVc2VyT3B0aW9ucyA9IHtcclxuICAgICAgICBkZWxlZ2F0ZTogY3JlYXRlU2ltcGxlVXNlckRlbGVnYXRlKCksXHJcbiAgICAgICAgbWVkaWE6IHtcclxuICAgICAgICAgIHJlbW90ZToge1xyXG4gICAgICAgICAgICBhdWRpbzogYXVkaW9FbGVtZW50LnZhbHVlIHx8IHVuZGVmaW5lZCxcclxuICAgICAgICAgIH0sXHJcbiAgICAgICAgfSxcclxuICAgICAgICB1c2VyQWdlbnRPcHRpb25zOiB7XHJcbiAgICAgICAgICBkaXNwbGF5TmFtZTogc2lwQ29uZmlnLnZhbHVlLmRpc3BsYXlOYW1lLFxyXG4gICAgICAgICAgYXV0aG9yaXphdGlvblVzZXJuYW1lOiBzaXBDb25maWcudmFsdWUudXNlcm5hbWUsXHJcbiAgICAgICAgICBhdXRob3JpemF0aW9uUGFzc3dvcmQ6IHNpcENvbmZpZy52YWx1ZS5wYXNzd29yZCxcclxuICAgICAgICAgIHVyaTogbmV3IFVSSSgnc2lwJywgc2lwQ29uZmlnLnZhbHVlLnVzZXJuYW1lLCBzaXBDb25maWcudmFsdWUuZG9tYWluKSxcclxuICAgICAgICAgIHRyYW5zcG9ydE9wdGlvbnM6IHtcclxuICAgICAgICAgICAgc2VydmVyOiB3ZWJTb2NrZXRTZXJ2ZXIsXHJcbiAgICAgICAgICAgIGNvbm5lY3Rpb25UaW1lb3V0OiAxMDAwMCxcclxuICAgICAgICAgICAga2VlcEFsaXZlSW50ZXJ2YWw6IDMwMDAwLFxyXG4gICAgICAgICAgICB0cmFjZVNpcDogdHJ1ZSxcclxuICAgICAgICAgICAgYWxsb3dMZWdhY3lOb3RpZmljYXRpb25zOiB0cnVlLFxyXG4gICAgICAgICAgICB3c1NlcnZlck1heFJlY29ubmVjdGlvbjogNTAwMCxcclxuICAgICAgICAgICAgd3NTZXJ2ZXJSZWNvbm5lY3Rpb25UaW1lb3V0OiAxLFxyXG4gICAgICAgICAgICBjb25uZWN0aW9uUmVjb3ZlcnlNYXhJbnRlcnZhbDogMyxcclxuICAgICAgICAgICAgY29ubmVjdGlvblJlY292ZXJ5TWluSW50ZXJ2YWw6IDIsXHJcbiAgICAgICAgICB9LFxyXG4gICAgICAgIH0sXHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHNpbXBsZVVzZXIudmFsdWUgPSBuZXcgU2ltcGxlVXNlcih3ZWJTb2NrZXRTZXJ2ZXIsIHNpbXBsZVVzZXJPcHRpb25zKVxyXG5cclxuICAgICAgYXdhaXQgc2ltcGxlVXNlci52YWx1ZS5jb25uZWN0KClcclxuXHJcbiAgICAgIGF3YWl0IHNpbXBsZVVzZXIudmFsdWUucmVnaXN0ZXIoKVxyXG5cclxuICAgICAgcmV0dXJuIHRydWVcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbmljaWFsaXphbmRvIFNJUDonLCBlcnIpXHJcbiAgICAgIGVycm9yLnZhbHVlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdFcnJvciBkZXNjb25vY2lkbydcclxuICAgICAgY29ubmVjdGlvblN0YXRlLnZhbHVlID0gJ2Rpc2Nvbm5lY3RlZCdcclxuICAgICAgcmV0dXJuIGZhbHNlXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zdCByZWNvbm5lY3QgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgICBpZiAoc2ltcGxlVXNlci52YWx1ZSkge1xyXG4gICAgICBjb25uZWN0aW9uU3RhdGUudmFsdWUgPSAncmVjb25uZWN0aW5nJ1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGF3YWl0IHNpbXBsZVVzZXIudmFsdWUuY29ubmVjdCgpXHJcbiAgICAgICAgYXdhaXQgc2ltcGxlVXNlci52YWx1ZS5yZWdpc3RlcigpXHJcbiAgICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHJlY29ubmVjdGluZzonLCBlcnIpXHJcbiAgICAgICAgY29ubmVjdGlvblN0YXRlLnZhbHVlID0gJ2Rpc2Nvbm5lY3RlZCdcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgbWFrZUNhbGwgPSBhc3luYyAobnVtYmVyOiBzdHJpbmcpOiBQcm9taXNlPGJvb2xlYW4+ID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmICghc2ltcGxlVXNlci52YWx1ZSB8fCAhaXNDb25uZWN0ZWQudmFsdWUpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NJUCBubyBlc3TDoSBjb25lY3RhZG8nKVxyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCB0YXJnZXQgPSBgc2lwOiR7bnVtYmVyfUAke3NpcENvbmZpZy52YWx1ZS5kb21haW59YFxyXG5cclxuICAgICAgYXdhaXQgc2ltcGxlVXNlci52YWx1ZS5jYWxsKHRhcmdldCwge1xyXG4gICAgICAgIGludml0ZVdpdGhvdXRTZHA6IGZhbHNlLFxyXG4gICAgICB9KVxyXG5cclxuICAgICAgcmV0dXJuIHRydWVcclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBoYWNpZW5kbyBsbGFtYWRhOicsIGVycilcclxuICAgICAgZXJyb3IudmFsdWUgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0Vycm9yIGVuIGxhIGxsYW1hZGEnXHJcbiAgICAgIGNhbGxTdGF0ZS52YWx1ZSA9ICdpZGxlJ1xyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IGVuZENhbGwgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoc2ltcGxlVXNlci52YWx1ZSkge1xyXG4gICAgICAgIGF3YWl0IHNpbXBsZVVzZXIudmFsdWUuaGFuZ3VwKClcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHRlcm1pbmFuZG8gbGxhbWFkYTonLCBlcnIpXHJcbiAgICAgIGVycm9yLnZhbHVlID0gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBlcnIubWVzc2FnZSA6ICdFcnJvciB0ZXJtaW5hbmRvIGxsYW1hZGEnXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zdCBhbnN3ZXJDYWxsID0gYXN5bmMgKCk6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKHNpbXBsZVVzZXIudmFsdWUpIHtcclxuICAgICAgICBhd2FpdCBzaW1wbGVVc2VyLnZhbHVlLmFuc3dlcigpXHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjb250ZXN0YW5kbyBsbGFtYWRhOicsIGVycilcclxuICAgICAgZXJyb3IudmFsdWUgPSBlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ0Vycm9yIGNvbnRlc3RhbmRvIGxsYW1hZGEnXHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjb25zdCBtdXRlQ2FsbCA9ICgpOiB2b2lkID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmIChzaW1wbGVVc2VyLnZhbHVlKSB7XHJcbiAgICAgICAgc2ltcGxlVXNlci52YWx1ZS5tdXRlKClcclxuICAgICAgICBpc011dGVkLnZhbHVlID0gc2ltcGxlVXNlci52YWx1ZS5pc011dGVkKClcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIG11dGluZyBjYWxsOicsIGVycilcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IHVubXV0ZUNhbGwgPSAoKTogdm9pZCA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoc2ltcGxlVXNlci52YWx1ZSkge1xyXG4gICAgICAgIHNpbXBsZVVzZXIudmFsdWUudW5tdXRlKClcclxuICAgICAgICBpc011dGVkLnZhbHVlID0gc2ltcGxlVXNlci52YWx1ZS5pc011dGVkKClcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHVubXV0aW5nIGNhbGw6JywgZXJyKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgdG9nZ2xlTXV0ZSA9ICgpOiB2b2lkID0+IHtcclxuICAgIGlmIChpc011dGVkLnZhbHVlKSB7XHJcbiAgICAgIHVubXV0ZUNhbGwoKVxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgbXV0ZUNhbGwoKVxyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgaG9sZENhbGwgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoc2ltcGxlVXNlci52YWx1ZSkge1xyXG4gICAgICAgIGF3YWl0IHNpbXBsZVVzZXIudmFsdWUuaG9sZCgpXHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBob2xkaW5nIGNhbGw6JywgZXJyKVxyXG4gICAgICBlcnJvci52YWx1ZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnRXJyb3IgcG9uaWVuZG8gZW4gZXNwZXJhJ1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgdW5ob2xkQ2FsbCA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGlmIChzaW1wbGVVc2VyLnZhbHVlKSB7XHJcbiAgICAgICAgYXdhaXQgc2ltcGxlVXNlci52YWx1ZS51bmhvbGQoKVxyXG4gICAgICB9XHJcbiAgICB9IGNhdGNoIChlcnIpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgdW5ob2xkaW5nIGNhbGw6JywgZXJyKVxyXG4gICAgICBlcnJvci52YWx1ZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnRXJyb3IgcXVpdGFuZG8gZGUgZXNwZXJhJ1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgY29uc3QgdG9nZ2xlSG9sZCA9IGFzeW5jICgpOiBQcm9taXNlPHZvaWQ+ID0+IHtcclxuICAgIGlmIChpc09uSG9sZC52YWx1ZSkge1xyXG4gICAgICBhd2FpdCB1bmhvbGRDYWxsKClcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGF3YWl0IGhvbGRDYWxsKClcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IHNlbmREVE1GID0gYXN5bmMgKHRvbmU6IHN0cmluZyk6IFByb21pc2U8dm9pZD4gPT4ge1xyXG4gICAgdHJ5IHtcclxuICAgICAgaWYgKHNpbXBsZVVzZXIudmFsdWUpIHtcclxuICAgICAgICBhd2FpdCBzaW1wbGVVc2VyLnZhbHVlLnNlbmREVE1GKHRvbmUpXHJcbiAgICAgIH1cclxuICAgIH0gY2F0Y2ggKGVycikge1xyXG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZW5kaW5nIERUTUY6JywgZXJyKVxyXG4gICAgICBlcnJvci52YWx1ZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnRXJyb3IgZW52aWFuZG8gRFRNRidcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IGRpc2Nvbm5lY3QgPSBhc3luYyAoKTogUHJvbWlzZTx2b2lkPiA9PiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBpZiAoc2ltcGxlVXNlci52YWx1ZSkge1xyXG4gICAgICAgIGF3YWl0IHNpbXBsZVVzZXIudmFsdWUuZGlzY29ubmVjdCgpXHJcbiAgICAgIH1cclxuICAgICAgY29ubmVjdGlvblN0YXRlLnZhbHVlID0gJ2Rpc2Nvbm5lY3RlZCdcclxuICAgICAgaXNDb25uZWN0ZWQudmFsdWUgPSBmYWxzZVxyXG4gICAgICBpc1JlZ2lzdGVyZWQudmFsdWUgPSBmYWxzZVxyXG4gICAgfSBjYXRjaCAoZXJyKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRpc2Nvbm5lY3Rpbmc6JywgZXJyKVxyXG4gICAgICBlcnJvci52YWx1ZSA9IGVyciBpbnN0YW5jZW9mIEVycm9yID8gZXJyLm1lc3NhZ2UgOiAnRXJyb3IgZGVzY29uZWN0YW5kbydcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IHNldEF1ZGlvRWxlbWVudCA9IChlbGVtZW50OiBIVE1MQXVkaW9FbGVtZW50KTogdm9pZCA9PiB7XHJcbiAgICBhdWRpb0VsZW1lbnQudmFsdWUgPSBlbGVtZW50XHJcbiAgfVxyXG5cclxuICByZXR1cm4ge1xyXG4gICAgLy8gU3RhdGVcclxuICAgIHNpbXBsZVVzZXIsXHJcbiAgICBpc1JlZ2lzdGVyZWQsXHJcbiAgICBpc0Nvbm5lY3RlZCxcclxuICAgIGNvbm5lY3Rpb25TdGF0ZSxcclxuICAgIGVycm9yLFxyXG4gICAgc2lwQ29uZmlnLFxyXG4gICAgaXNBdXRvQW5zd2VyLFxyXG4gICAgdm9pY2VtYWlsLFxyXG4gICAgaXNEbmQsXHJcbiAgICBjYWxsU3RhdGUsXHJcbiAgICBjYWxsU3RhcnRUaW1lLFxyXG4gICAgaXNNdXRlZCxcclxuICAgIGlzT25Ib2xkLFxyXG5cclxuICAgIC8vIEFjdGlvbnNcclxuICAgIGluaXRpYWxpemVTaXAsXHJcbiAgICBtYWtlQ2FsbCxcclxuICAgIGVuZENhbGwsXHJcbiAgICBhbnN3ZXJDYWxsLFxyXG4gICAgbXV0ZUNhbGwsXHJcbiAgICB1bm11dGVDYWxsLFxyXG4gICAgdG9nZ2xlTXV0ZSxcclxuICAgIGhvbGRDYWxsLFxyXG4gICAgdW5ob2xkQ2FsbCxcclxuICAgIHRvZ2dsZUhvbGQsXHJcbiAgICBzZW5kRFRNRixcclxuICAgIGRpc2Nvbm5lY3QsXHJcbiAgICBzZXRBdWRpb0VsZW1lbnQsXHJcbiAgICByZWNvbm5lY3QsXHJcbiAgfVxyXG59KVxyXG4iXSwibWFwcGluZ3MiOiJBQUFBLFNBQVMsbUJBQW1CO0FBQzVCLFNBQVMsV0FBVztBQUNwQjtBQUFBLEVBQ0U7QUFBQSxPQUdLO0FBQ1AsU0FBUyxXQUFXO0FBRWIsYUFBTSxjQUFjLFlBQVksT0FBTyxNQUFNO0FBQ2xELFFBQU0sYUFBYSxJQUF1QixJQUFJO0FBQzlDLFFBQU0sY0FBYyxJQUFJLEtBQUs7QUFDN0IsUUFBTSxlQUFlLElBQUksS0FBSztBQUM5QixRQUFNLFlBQVksSUFBSSxFQUFFLEtBQUssR0FBRyxLQUFLLEVBQUUsQ0FBQztBQUN4QyxRQUFNLFFBQVEsSUFBSSxLQUFLO0FBQ3ZCLFFBQU0sZUFBZSxJQUFJLEtBQUs7QUFDOUIsUUFBTSxZQUFZLElBQTRELE1BQU07QUFDcEYsUUFBTSxrQkFBa0I7QUFBQSxJQUN0QjtBQUFBLEVBQ0Y7QUFDQSxRQUFNLGdCQUFnQixJQUFpQixJQUFJO0FBQzNDLFFBQU0sUUFBUSxJQUFtQixJQUFJO0FBQ3JDLFFBQU0sVUFBVSxJQUFJLEtBQUs7QUFDekIsUUFBTSxXQUFXLElBQUksS0FBSztB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