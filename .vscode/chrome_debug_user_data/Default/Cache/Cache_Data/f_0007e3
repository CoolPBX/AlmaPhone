import { createHotContext as __vite__createHotContext } from "/@vite/client";import.meta.hot = __vite__createHotContext("/@fs/C:\\respos\\AlmaPhone\\src\\components\\extension-selector\\ExtensionSelector.vue");import { defineComponent as _defineComponent } from "/node_modules/.vite/deps/vue.js?v=10b713a3";
import { onMounted } from "/node_modules/.vite/deps/vue.js?v=10b713a3";
import { useRouter } from "/node_modules/.vite/deps/vue-router.js?v=10b713a3";
import { useI18n } from "/node_modules/.vite/deps/vue-i18n.js?v=10b713a3";
import { useAuthStore } from "/src/components/login/AuthStore.ts";
import { useExtensionStore } from "/src/components/extension-selector/ExtensionStore.ts";
import BaseModal from "/src/core/presentation/components/BaseModal.vue";
import Accordion from "/node_modules/.vite/deps/primevue_accordion.js?t=1752518539593&v=10b713a3";
import AccordionTab from "/node_modules/.vite/deps/primevue_accordiontab.js?t=1752518539593&v=10b713a3";
import InputText from "/node_modules/.vite/deps/primevue_inputtext.js?v=10b713a3";
import FloatLabel from "/node_modules/.vite/deps/primevue_floatlabel.js?v=10b713a3";
import { useSipStore } from "/src/components/login/SipStore.ts?t=1752520156357";
const _sfc_main = /* @__PURE__ */ _defineComponent({
  __name: "ExtensionSelector",
  emits: ["extension-selected", "logout"],
  setup(__props, { expose: __expose, emit: __emit }) {
    __expose();
    const emit = __emit;
    const { t } = useI18n();
    const authStore = useAuthStore();
    const extensionStore = useExtensionStore();
    const router = useRouter();
    const sipStore = useSipStore();
    onMounted(async () => {
      if (!authStore.isAuthenticated) {
        router.push("/login");
      } else {
        extensionStore.clearExtensions();
        await extensionStore.fetchExtensions();
      }
    });
    const isSelected = (extension) => {
      return extension.extension_uuid === extensionStore.selectedExtension?.extension_uuid;
    };
    const selectExtension = (extension) => {
      extensionStore.selectExtension(extension);
    };
    const handleRefresh = async () => {
      await extensionStore.fetchExtensions();
    };
    const proceedToPhone = () => {
      emit("extension-selected");
    };
    const __returned__ = { emit, t, authStore, extensionStore, router, sipStore, isSelected, selectExtension, handleRefresh, proceedToPhone, BaseModal, get Accordion() {
      return Accordion;
    }, get AccordionTab() {
      return AccordionTab;
    }, get InputText() {
      return InputText;
    }, get FloatLabel() {
      return FloatLabel;
    } };
    Object.defineProperty(__returned__, "__isScriptSetup", { enumerable: false, value: true });
    return __returned__;
  }
});
import { createCommentVNode as _createCommentVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, renderList as _renderList, Fragment as _Fragment, normalizeClass as _normalizeClass, createTextVNode as _createTextVNode, withCtx as _withCtx, createSlots as _createSlots, createBlock as _createBlock } from "/node_modules/.vite/deps/vue.js?v=10b713a3";
const _hoisted_1 = { class: "space-y-4" };
const _hoisted_2 = { class: "flex justify-between flex-col items-center p-3 bg-gray-50 dark:bg-gray-700 rounded-lg" };
const _hoisted_3 = { class: "flex items-center space-x-4 overflow-hidden max-w-full" };
const _hoisted_4 = { class: "text-sm text-gray-600 dark:text-gray-300" };
const _hoisted_5 = {
  key: 0,
  class: "text-center py-8"
};
const _hoisted_6 = { class: "mt-2 text-gray-600 dark:text-gray-400" };
const _hoisted_7 = {
  key: 1,
  class: "p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-lg"
};
const _hoisted_8 = { class: "flex justify-between items-start" };
const _hoisted_9 = { class: "text-red-700 dark:text-red-400" };
const _hoisted_10 = {
  key: 2,
  class: "text-center py-8"
};
const _hoisted_11 = { class: "text-gray-600 dark:text-gray-400" };
const _hoisted_12 = {
  key: 3,
  class: "space-y-4"
};
const _hoisted_13 = { class: "border border-gray-200 dark:border-gray-700 rounded-lg max-h-[50vh] overflow-auto" };
const _hoisted_14 = { class: "min-w-full divide-y divide-gray-200 dark:divide-gray-700" };
const _hoisted_15 = { class: "bg-gray-50 dark:bg-gray-800" };
const _hoisted_16 = { class: "px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider" };
const _hoisted_17 = { class: "px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider" };
const _hoisted_18 = { class: "bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700" };
const _hoisted_19 = { class: "px-4 py-3 text-sm text-gray-900 dark:text-white font-bold" };
const _hoisted_20 = { class: "px-4 py-3 text-sm" };
const _hoisted_21 = ["onClick"];
const _hoisted_22 = { class: "flex justify-between items-center" };
const _hoisted_23 = { class: "text-sm text-gray-600 dark:text-gray-400" };
const _hoisted_24 = { class: "font-bold text-white" };
function _sfc_render(_ctx, _cache, $props, $setup, $data, $options) {
  return _openBlock(), _createBlock($setup["BaseModal"], {
    isOpen: true,
    title: $setup.t("extensionSelector.title"),
    size: "lg",
    closeOnBackdrop: false,
    showCloseButton: false
  }, _createSlots({
    default: _withCtx(() => [
      _createElementVNode("div", _hoisted_1, [
        _createCommentVNode(" User info "),
        _createElementVNode("div", _hoisted_2, [
          _createElementVNode("div", _hoisted_3, [
            _createElementVNode(
              "span",
              _hoisted_4,
              _toDisplayString($setup.t("auth.connectedAs")) + ": " + _toDisplayString($setup.authStore.userEmail),
              1
              /* TEXT */
            ),
            _createCommentVNode(" <LanguageSwitcher /> ")
          ]),
          _createCommentVNode(` <button
          @click="handleLogout"
          class="px-2 py-1 text-white rounded-md focus:outline-none focus:ring-2 text-sm bg-red-600 hover:bg-red-600 dark:bg-red-800 dark:hover:bg-red-600"
        >
          {{ t('auth.logout') }}
        </button> `)
        ]),
        $setup.extensionStore.isLoading ? (_openBlock(), _createElementBlock("div", _hoisted_5, [
          _cache[1] || (_cache[1] = _createElementVNode(
            "div",
            { class: "inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600" },
            null,
            -1
            /* CACHED */
          )),
          _createElementVNode(
            "p",
            _hoisted_6,
            _toDisplayString($setup.t("extensionSelector.loadingExtensions")),
            1
            /* TEXT */
          )
        ])) : $setup.extensionStore.error ? (_openBlock(), _createElementBlock("div", _hoisted_7, [
          _createElementVNode("div", _hoisted_8, [
            _createElementVNode(
              "p",
              _hoisted_9,
              _toDisplayString($setup.extensionStore.error),
              1
              /* TEXT */
            ),
            _createElementVNode("button", {
              onClick: _cache[0] || (_cache[0] = (...args) => $setup.extensionStore.clearError && $setup.extensionStore.clearError(...args)),
              class: "text-red-500 hover:text-red-700"
            }, " âœ• ")
          ]),
          _createElementVNode(
            "button",
            {
              onClick: $setup.handleRefresh,
              class: "mt-2 text-sm text-red-600 hover:text-red-800 underline"
            },
            _toDisplayString($setup.t("common.retry")),
            1
            /* TEXT */
          )
        ])) : !$setup.extensionStore.hasExtensions ? (_openBlock(), _createElementBlock("div", _hoisted_10, [
          _createElementVNode(
            "p",
            _hoisted_11,
            _toDisplayString($setup.t("extensionSelector.noExtensions")),
            1
            /* TEXT */
          ),
          _createElementVNode(
            "button",
            {
              onClick: $setup.handleRefresh,
              class: "mt-2 text-blue-600 hover:text-blue-800 underline"
            },
            _toDisplayString($setup.t("common.refresh")),
            1
            /* TEXT */
          )
        ])) : (_openBlock(), _createElementBlock("div", _hoisted_12, [
          _createElementVNode("div", _hoisted_13, [
            _createElementVNode("table", _hoisted_14, [
              _createElementVNode("thead", _hoisted_15, [
                _createElementVNode("tr", null, [
                  _createElementVNode(
                    "th",
                    _hoisted_16,
                    _toDisplayString($setup.t("extensionSelector.extension")),
                    1
                    /* TEXT */
                  ),
                  _createElementVNode(
                    "th",
                    _hoisted_17,
                    _toDisplayString($setup.t("extensionSelector.action")),
                    1
                    /* TEXT */
                  )
                ])
              ]),
              _createElementVNode("tbody", _hoisted_18, [
                (_openBlock(true), _createElementBlock(
                  _Fragment,
                  null,
                  _renderList($setup.extensionStore.availableExtensions, (extension) => {
                    return _openBlock(), _createElementBlock(
                      "tr",
                      {
                        key: extension.extension_uuid,
                        class: _normalizeClass(["hover:bg-gray-50 dark:hover:bg-gray-800", { "bg-blue-50 dark:bg-blue-900/20": $setup.isSelected(extension) }])
                      },
                      [
                        _createElementVNode(
                          "td",
                          _hoisted_19,
                          _toDisplayString(extension.extension),
                          1
                          /* TEXT */
                        ),
                        _createElementVNode("td", _hoisted_20, [
                          _createElementVNode("button", {
                            onClick: ($event) => $setup.selectExtension(extension),
                            class: _normalizeClass([
                              "px-3 py-1 rounded-md text-sm font-medium",
                              $setup.isSelected(extension) ? "bg-blue-600 text-white" : "bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-300 dark:hover:bg-gray-600"
                            ])
                          }, _toDisplayString($setup.isSelected(extension) ? $setup.t("extensionSelector.extensionSelectedLabel") : $setup.t("extensionSelector.selectExtension")), 11, _hoisted_21)
                        ])
                      ],
                      2
                      /* CLASS */
                    );
                  }),
                  128
                  /* KEYED_FRAGMENT */
                ))
              ])
            ])
          ])
        ]))
      ])
    ]),
    _: 2
    /* DYNAMIC */
  }, [
    $setup.extensionStore.selectedExtension ? {
      name: "footer",
      fn: _withCtx(() => [
        _createElementVNode("div", _hoisted_22, [
          _createElementVNode("div", _hoisted_23, [
            _createTextVNode(
              _toDisplayString($setup.t("extensionSelector.extensionSelected")) + ": ",
              1
              /* TEXT */
            ),
            _createElementVNode(
              "span",
              _hoisted_24,
              _toDisplayString($setup.extensionStore.selectedExtension.extension),
              1
              /* TEXT */
            )
          ]),
          _createElementVNode(
            "button",
            {
              onClick: $setup.proceedToPhone,
              class: "px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"
            },
            _toDisplayString($setup.t("common.continue")),
            1
            /* TEXT */
          )
        ])
      ]),
      key: "0"
    } : void 0
  ]), 1032, ["title"]);
}
_sfc_main.__hmrId = "3ef89a91";
typeof __VUE_HMR_RUNTIME__ !== "undefined" && __VUE_HMR_RUNTIME__.createRecord(_sfc_main.__hmrId, _sfc_main);
import.meta.hot.on("file-changed", ({ file }) => {
  __VUE_HMR_RUNTIME__.CHANGED_FILE = file;
});
export const _rerender_only = __VUE_HMR_RUNTIME__.CHANGED_FILE === "C:/respos/AlmaPhone/src/components/extension-selector/ExtensionSelector.vue";
import.meta.hot.accept((mod) => {
  if (!mod) return;
  const { default: updated, _rerender_only: _rerender_only2 } = mod;
  if (_rerender_only2) {
    __VUE_HMR_RUNTIME__.rerender(updated.__hmrId, updated.render);
  } else {
    __VUE_HMR_RUNTIME__.reload(updated.__hmrId, updated);
  }
});
import _export_sfc from "/@id/__x00__plugin-vue:export-helper";
export default /* @__PURE__ */ _export_sfc(_sfc_main, [["render", _sfc_render], ["__file", "C:/respos/AlmaPhone/src/components/extension-selector/ExtensionSelector.vue"]]);

//# sourceMappingURL=data:application/json;base64,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SztBQUFBLDBCQUZMO0FBQUEsMEJBRUssaUJBREEsVUFBVSxTQUFTO0FBQUE7QUFBQTtBQUFBO0FBQUEsd0JBRXhCLG9CQVdLLE1BWEwsYUFXSztBQUFBLDBCQVZILG9CQVNTO0FBQUEsNEJBVEEsU0FBSyxZQUFFLHVCQUFnQixTQUFTO0FBQUEsNEJBQUcsT0FBSztBQUFBLDhCQUFDO0FBQUEsOEJBQW1ELGtCQUFXLFNBQVM7OzhDQUtySCxrQkFBVyxTQUFTLElBQTRCLFNBQUMsOENBQXVFLFNBQUM7QUFBQTs7Ozs7Ozs7Ozs7Ozs7Ozs7O0lBYW5ILHNCQUFlO1lBQTVCO0FBQUEsbUJBQ1QsTUFTTTtBQUFBLFFBVE4sb0JBU00sT0FUTixhQVNNO0FBQUEsVUFSSixvQkFHTSxPQUhOLGFBR007QUFBQTsrQkFGRCxTQUFDLDBDQUEwQztBQUFBLGNBQzlDO0FBQUE7QUFBQTtBQUFBO0FBQUEsY0FBMEY7QUFBQSxjQUExRjtBQUFBLGNBQTBGLGlCQUFwRCxzQkFBZSxrQkFBa0IsU0FBUztBQUFBO0FBQUE7QUFBQTtBQUFBO1VBRWxGO0FBQUEsWUFHUztBQUFBO0FBQUEsY0FIQSxTQUFPO0FBQUEsY0FDZCxPQUFNO0FBQUE7NkJBQ0gsU0FBQztBQUFBO0FBQUE7QUFBQTtBQUFBIiwibmFtZXMiOltdLCJpZ25vcmVMaXN0IjpbXSwic291cmNlcyI6WyJFeHRlbnNpb25TZWxlY3Rvci52dWUiXSwic291cmNlc0NvbnRlbnQiOlsiPHRlbXBsYXRlPlxuICA8QmFzZU1vZGFsIDppc09wZW49XCJ0cnVlXCIgOnRpdGxlPVwidCgnZXh0ZW5zaW9uU2VsZWN0b3IudGl0bGUnKVwiIHNpemU9XCJsZ1wiIDpjbG9zZU9uQmFja2Ryb3A9XCJmYWxzZVwiXG4gICAgOnNob3dDbG9zZUJ1dHRvbj1cImZhbHNlXCI+XG4gICAgPGRpdiBjbGFzcz1cInNwYWNlLXktNFwiPlxuICAgICAgPCEtLSBVc2VyIGluZm8gLS0+XG4gICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gZmxleC1jb2wgaXRlbXMtY2VudGVyIHAtMyBiZy1ncmF5LTUwIGRhcms6YmctZ3JheS03MDAgcm91bmRlZC1sZ1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC00IG92ZXJmbG93LWhpZGRlbiBtYXgtdy1mdWxsXCI+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktMzAwXCI+XG4gICAgICAgICAgICB7eyB0KCdhdXRoLmNvbm5lY3RlZEFzJykgfX06IHt7IGF1dGhTdG9yZS51c2VyRW1haWwgfX1cbiAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgPCEtLSA8TGFuZ3VhZ2VTd2l0Y2hlciAvPiAtLT5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDwhLS0gPGJ1dHRvblxuICAgICAgICAgIEBjbGljaz1cImhhbmRsZUxvZ291dFwiXG4gICAgICAgICAgY2xhc3M9XCJweC0yIHB5LTEgdGV4dC13aGl0ZSByb3VuZGVkLW1kIGZvY3VzOm91dGxpbmUtbm9uZSBmb2N1czpyaW5nLTIgdGV4dC1zbSBiZy1yZWQtNjAwIGhvdmVyOmJnLXJlZC02MDAgZGFyazpiZy1yZWQtODAwIGRhcms6aG92ZXI6YmctcmVkLTYwMFwiXG4gICAgICAgID5cbiAgICAgICAgICB7eyB0KCdhdXRoLmxvZ291dCcpIH19XG4gICAgICAgIDwvYnV0dG9uPiAtLT5cbiAgICAgIDwvZGl2PlxuXG4gICAgICA8ZGl2IHYtaWY9XCJleHRlbnNpb25TdG9yZS5pc0xvYWRpbmdcIiBjbGFzcz1cInRleHQtY2VudGVyIHB5LThcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImlubGluZS1ibG9jayBhbmltYXRlLXNwaW4gcm91bmRlZC1mdWxsIGgtOCB3LTggYm9yZGVyLWItMiBib3JkZXItYmx1ZS02MDBcIj48L2Rpdj5cbiAgICAgICAgPHAgY2xhc3M9XCJtdC0yIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAge3sgdCgnZXh0ZW5zaW9uU2VsZWN0b3IubG9hZGluZ0V4dGVuc2lvbnMnKSB9fVxuICAgICAgICA8L3A+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiB2LWVsc2UtaWY9XCJleHRlbnNpb25TdG9yZS5lcnJvclwiXG4gICAgICAgIGNsYXNzPVwicC00IGJnLXJlZC01MCBkYXJrOmJnLXJlZC05MDAvMjAgYm9yZGVyIGJvcmRlci1yZWQtMjAwIGRhcms6Ym9yZGVyLXJlZC04MDAgcm91bmRlZC1sZ1wiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gaXRlbXMtc3RhcnRcIj5cbiAgICAgICAgICA8cCBjbGFzcz1cInRleHQtcmVkLTcwMCBkYXJrOnRleHQtcmVkLTQwMFwiPnt7IGV4dGVuc2lvblN0b3JlLmVycm9yIH19PC9wPlxuICAgICAgICAgIDxidXR0b24gQGNsaWNrPVwiZXh0ZW5zaW9uU3RvcmUuY2xlYXJFcnJvclwiIGNsYXNzPVwidGV4dC1yZWQtNTAwIGhvdmVyOnRleHQtcmVkLTcwMFwiPlxuICAgICAgICAgICAg4pyVXG4gICAgICAgICAgPC9idXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8YnV0dG9uIEBjbGljaz1cImhhbmRsZVJlZnJlc2hcIiBjbGFzcz1cIm10LTIgdGV4dC1zbSB0ZXh0LXJlZC02MDAgaG92ZXI6dGV4dC1yZWQtODAwIHVuZGVybGluZVwiPlxuICAgICAgICAgIHt7IHQoJ2NvbW1vbi5yZXRyeScpIH19XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgPC9kaXY+XG5cbiAgICAgIDxkaXYgdi1lbHNlLWlmPVwiIWV4dGVuc2lvblN0b3JlLmhhc0V4dGVuc2lvbnNcIiBjbGFzcz1cInRleHQtY2VudGVyIHB5LThcIj5cbiAgICAgICAgPHAgY2xhc3M9XCJ0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPnt7IHQoJ2V4dGVuc2lvblNlbGVjdG9yLm5vRXh0ZW5zaW9ucycpIH19PC9wPlxuICAgICAgICA8YnV0dG9uIEBjbGljaz1cImhhbmRsZVJlZnJlc2hcIiBjbGFzcz1cIm10LTIgdGV4dC1ibHVlLTYwMCBob3Zlcjp0ZXh0LWJsdWUtODAwIHVuZGVybGluZVwiPlxuICAgICAgICAgIHt7IHQoJ2NvbW1vbi5yZWZyZXNoJykgfX1cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cblxuICAgICAgPGRpdiB2LWVsc2UgY2xhc3M9XCJzcGFjZS15LTRcIj5cbiAgICAgICAgPGRpdiBjbGFzcz1cImJvcmRlciBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgcm91bmRlZC1sZyBtYXgtaC1bNTB2aF0gb3ZlcmZsb3ctYXV0b1wiPlxuICAgICAgICAgIDx0YWJsZSBjbGFzcz1cIm1pbi13LWZ1bGwgZGl2aWRlLXkgZGl2aWRlLWdyYXktMjAwIGRhcms6ZGl2aWRlLWdyYXktNzAwXCI+XG4gICAgICAgICAgICA8dGhlYWQgY2xhc3M9XCJiZy1ncmF5LTUwIGRhcms6YmctZ3JheS04MDBcIj5cbiAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgIDx0aFxuICAgICAgICAgICAgICAgICAgY2xhc3M9XCJweC00IHB5LTMgdGV4dC1sZWZ0IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyXCI+XG4gICAgICAgICAgICAgICAgICB7eyB0KCdleHRlbnNpb25TZWxlY3Rvci5leHRlbnNpb24nKSB9fVxuICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgPHRoXG4gICAgICAgICAgICAgICAgICBjbGFzcz1cInB4LTQgcHktMyB0ZXh0LWxlZnQgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXJcIj5cbiAgICAgICAgICAgICAgICAgIHt7IHQoJ2V4dGVuc2lvblNlbGVjdG9yLmFjdGlvbicpIH19XG4gICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgICA8dGJvZHkgY2xhc3M9XCJiZy13aGl0ZSBkYXJrOmJnLWdyYXktOTAwIGRpdmlkZS15IGRpdmlkZS1ncmF5LTIwMCBkYXJrOmRpdmlkZS1ncmF5LTcwMFwiPlxuICAgICAgICAgICAgICA8dHIgdi1mb3I9XCJleHRlbnNpb24gaW4gZXh0ZW5zaW9uU3RvcmUuYXZhaWxhYmxlRXh0ZW5zaW9uc1wiIDprZXk9XCJleHRlbnNpb24uZXh0ZW5zaW9uX3V1aWRcIlxuICAgICAgICAgICAgICAgIGNsYXNzPVwiaG92ZXI6YmctZ3JheS01MCBkYXJrOmhvdmVyOmJnLWdyYXktODAwXCJcbiAgICAgICAgICAgICAgICA6Y2xhc3M9XCJ7ICdiZy1ibHVlLTUwIGRhcms6YmctYmx1ZS05MDAvMjAnOiBpc1NlbGVjdGVkKGV4dGVuc2lvbikgfVwiPlxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInB4LTQgcHktMyB0ZXh0LXNtIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlIGZvbnQtYm9sZFwiPlxuICAgICAgICAgICAgICAgICAge3sgZXh0ZW5zaW9uLmV4dGVuc2lvbiB9fVxuICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwicHgtNCBweS0zIHRleHQtc21cIj5cbiAgICAgICAgICAgICAgICAgIDxidXR0b24gQGNsaWNrPVwic2VsZWN0RXh0ZW5zaW9uKGV4dGVuc2lvbilcIiBjbGFzcz1cInB4LTMgcHktMSByb3VuZGVkLW1kIHRleHQtc20gZm9udC1tZWRpdW1cIiA6Y2xhc3M9XCJpc1NlbGVjdGVkKGV4dGVuc2lvbilcbiAgICAgICAgICAgICAgICAgICAgICA/ICdiZy1ibHVlLTYwMCB0ZXh0LXdoaXRlJ1xuICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLWdyYXktMjAwIGRhcms6YmctZ3JheS03MDAgdGV4dC1ncmF5LTcwMCBkYXJrOnRleHQtZ3JheS0zMDAgaG92ZXI6YmctZ3JheS0zMDAgZGFyazpob3ZlcjpiZy1ncmF5LTYwMCdcbiAgICAgICAgICAgICAgICAgICAgXCI+XG4gICAgICAgICAgICAgICAgICAgIHt7XG4gICAgICAgICAgICAgICAgICAgICAgaXNTZWxlY3RlZChleHRlbnNpb24pXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHQoJ2V4dGVuc2lvblNlbGVjdG9yLmV4dGVuc2lvblNlbGVjdGVkTGFiZWwnKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0KCdleHRlbnNpb25TZWxlY3Rvci5zZWxlY3RFeHRlbnNpb24nKVxuICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cblxuICAgIDx0ZW1wbGF0ZSAjZm9vdGVyIHYtaWY9XCJleHRlbnNpb25TdG9yZS5zZWxlY3RlZEV4dGVuc2lvblwiPlxuICAgICAgPGRpdiBjbGFzcz1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGl0ZW1zLWNlbnRlclwiPlxuICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1zbSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgIHt7IHQoJ2V4dGVuc2lvblNlbGVjdG9yLmV4dGVuc2lvblNlbGVjdGVkJykgfX06XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJmb250LWJvbGQgdGV4dC13aGl0ZVwiPnt7IGV4dGVuc2lvblN0b3JlLnNlbGVjdGVkRXh0ZW5zaW9uLmV4dGVuc2lvbiB9fTwvc3Bhbj5cbiAgICAgICAgPC9kaXY+XG4gICAgICAgIDxidXR0b24gQGNsaWNrPVwicHJvY2VlZFRvUGhvbmVcIlxuICAgICAgICAgIGNsYXNzPVwicHgtNCBweS0yIGJnLWJsdWUtNjAwIHRleHQtd2hpdGUgcm91bmRlZC1tZCBob3ZlcjpiZy1ibHVlLTcwMCBmb2N1czpvdXRsaW5lLW5vbmUgZm9jdXM6cmluZy0yIGZvY3VzOnJpbmctYmx1ZS01MDBcIj5cbiAgICAgICAgICB7eyB0KCdjb21tb24uY29udGludWUnKSB9fVxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIDwvdGVtcGxhdGU+XG4gIDwvQmFzZU1vZGFsPlxuPC90ZW1wbGF0ZT5cblxuPHNjcmlwdCBzZXR1cCBsYW5nPVwidHNcIj5cbmltcG9ydCB7IG9uTW91bnRlZCB9IGZyb20gJ3Z1ZSdcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gJ3Z1ZS1yb3V0ZXInXG5pbXBvcnQgeyB1c2VJMThuIH0gZnJvbSAndnVlLWkxOG4nXG5pbXBvcnQgdHlwZSB7IEV4dGVuc2lvbkl0ZW1EdG8gfSBmcm9tICcuL2RvbWFpbi9zY2hlbWFzL0V4dGVuc2lvblNjaGVtYXMnXG5pbXBvcnQgeyB1c2VBdXRoU3RvcmUgfSBmcm9tICcuLi9sb2dpbi9BdXRoU3RvcmUnXG5pbXBvcnQgeyB1c2VFeHRlbnNpb25TdG9yZSB9IGZyb20gJy4vRXh0ZW5zaW9uU3RvcmUnXG5pbXBvcnQgQmFzZU1vZGFsIGZyb20gJ0AvY29yZS9wcmVzZW50YXRpb24vY29tcG9uZW50cy9CYXNlTW9kYWwudnVlJ1xuLy8gaW1wb3J0IExhbmd1YWdlU3dpdGNoZXIgZnJvbSAnQC9jb3JlL3ByZXNlbnRhdGlvbi9jb21wb25lbnRzL0xhbmd1YWdlU3dpdGNoZXIudnVlJ1xuaW1wb3J0IEFjY29yZGlvbiBmcm9tICdwcmltZXZ1ZS9hY2NvcmRpb24nXG5pbXBvcnQgQWNjb3JkaW9uVGFiIGZyb20gJ3ByaW1ldnVlL2FjY29yZGlvbnRhYidcbmltcG9ydCBJbnB1dFRleHQgZnJvbSAncHJpbWV2dWUvaW5wdXR0ZXh0J1xuaW1wb3J0IEZsb2F0TGFiZWwgZnJvbSAncHJpbWV2dWUvZmxvYXRsYWJlbCdcbmltcG9ydCB7IHVzZVNpcFN0b3JlIH0gZnJvbSAnLi4vbG9naW4vU2lwU3RvcmUnXG5cbmludGVyZmFjZSBFbWl0cyB7XG4gIChlOiAnZXh0ZW5zaW9uLXNlbGVjdGVkJyk6IHZvaWRcbiAgKGU6ICdsb2dvdXQnKTogdm9pZFxufVxuXG5jb25zdCBlbWl0ID0gZGVmaW5lRW1pdHM8RW1pdHM+KClcblxuY29uc3QgeyB0IH0gPSB1c2VJMThuKClcbmNvbnN0IGF1dGhTdG9yZSA9IHVzZUF1dGhTdG9yZSgpXG5jb25zdCBleHRlbnNpb25TdG9yZSA9IHVzZUV4dGVuc2lvblN0b3JlKClcbmNvbnN0IHJvdXRlciA9IHVzZVJvdXRlcigpXG5jb25zdCBzaXBTdG9yZSA9IHVzZVNpcFN0b3JlKClcblxub25Nb3VudGVkKGFzeW5jICgpID0+IHtcbiAgaWYgKCFhdXRoU3RvcmUuaXNBdXRoZW50aWNhdGVkKSB7XG4gICAgcm91dGVyLnB1c2goJy9sb2dpbicpXG4gIH0gZWxzZSB7XG4gICAgZXh0ZW5zaW9uU3RvcmUuY2xlYXJFeHRlbnNpb25zKClcbiAgICBhd2FpdCBleHRlbnNpb25TdG9yZS5mZXRjaEV4dGVuc2lvbnMoKVxuICB9XG59KVxuXG5jb25zdCBpc1NlbGVjdGVkID0gKGV4dGVuc2lvbjogRXh0ZW5zaW9uSXRlbUR0bykgPT4ge1xuICByZXR1cm4gZXh0ZW5zaW9uLmV4dGVuc2lvbl91dWlkID09PSBleHRlbnNpb25TdG9yZS5zZWxlY3RlZEV4dGVuc2lvbj8uZXh0ZW5zaW9uX3V1aWRcbn1cblxuY29uc3Qgc2VsZWN0RXh0ZW5zaW9uID0gKGV4dGVuc2lvbjogRXh0ZW5zaW9uSXRlbUR0bykgPT4ge1xuICBleHRlbnNpb25TdG9yZS5zZWxlY3RFeHRlbnNpb24oZXh0ZW5zaW9uKVxufVxuXG5jb25zdCBoYW5kbGVSZWZyZXNoID0gYXN5bmMgKCkgPT4ge1xuICBhd2FpdCBleHRlbnNpb25TdG9yZS5mZXRjaEV4dGVuc2lvbnMoKVxufVxuXG5jb25zdCBwcm9jZWVkVG9QaG9uZSA9ICgpID0+IHtcbiAgZW1pdCgnZXh0ZW5zaW9uLXNlbGVjdGVkJylcbn1cblxuLy8gY29uc3QgaGFuZGxlTG9nb3V0ID0gKCkgPT4ge1xuLy8gICBlbWl0KCdsb2dvdXQnKVxuLy8gfVxuPC9zY3JpcHQ+XG4iXSwiZmlsZSI6IkM6L3Jlc3Bvcy9BbG1hUGhvbmUvc3JjL2NvbXBvbmVudHMvZXh0ZW5zaW9uLXNlbGVjdG9yL0V4dGVuc2lvblNlbGVjdG9yLnZ1ZSJ9